/*
 !! pluginTrackerHook  !
 Copyright (C) 2015 Pavel Savshenko
 Copyright (C) 2011 Google Inc.  All rights reserved.
 Copyright (C) 2007, 2008 Apple Inc.  All rights reserved.
 Copyright (C) 2008 Matt Lilek <webkit@mattlilek.com>
 Copyright (C) 2009 Joseph Pecoraro

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions
 are met:

 1.  Redistributions of source code must retain the above copyright
     notice, this list of conditions and the following disclaimer.
 2.  Redistributions in binary form must reproduce the above copyright
     notice, this list of conditions and the following disclaimer in the
     documentation and/or other materials provided with the distribution.
 3.  Neither the name of Apple Computer, Inc. ("Apple") nor the names of
     its contributors may be used to endorse or promote products derived
     from this software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS "AS IS" AND ANY
 EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY
 DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
 THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 !
 Copyright 2011 Google Inc.


 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 !
 Copyright (C) InnoCraft Ltd - All rights reserved.

 All information contained herein is, and remains the property of InnoCraft Ltd.

 @link https://www.innocraft.com/
 @license For license details see https://www.innocraft.com/license
 ! @license-end */
const hlStartTime=performance.now(),heatmapLightBreakPoint=[{label:"Fn addConfig",id:"add-config-fn",is_active:!1},{label:"Fn assign",id:"assign-fn",is_active:!1},{label:"Click Event",id:"click-event",is_active:!1},{label:"Fn onExit",id:"onexit-events",is_active:!1},{label:"Fn sendQueuedDataRequestNow",id:"send-queued-data-request-now",is_active:!1},{label:"Screenshot Taken",id:"screenshot-taken",is_active:!1}];window.heatMapLoaded=!0;
heatmapLightBreakPoint.forEach(p=>{window.heatmapBreakPoints[p.id]=p});window._heatmapDEBUG&&(heatSaveStore("heatmapCDHeatmapLight",{status:1,data:{}},"heatmapDebugger"),heatSaveStore("heatmapCDEntryEvents",_heatmap_pre_clicks,"heatmapDebugger"));let JS_ALERT_WEBSOCKET_SENT=!1;
function sendErrorLogToSlack(p,t){try{if(0==JS_ALERT_WEBSOCKET_SENT){JS_ALERT_WEBSOCKET_SENT=!0;const A=p.stack.split("\n"),G=A[1],B=A[1]?A[1].split(":").reverse()[1]:null;navigator.sendBeacon("https://cgqeokz6sgqqngdhcrivcrsgt40rsdls.lambda-url.us-west-2.on.aws/",JSON.stringify({message:p.message,filePath:G,lineNumber:B,extras:t,userAgent:navigator.userAgent}));return!0}}catch(A){}}
function pagePerformanceMetrics(){try{const p=performance.getEntriesByType("navigation")[0],t=parseFloat(p.connectEnd)-parseFloat(p.fetchStart),A=parseFloat(p.responseStart)-parseFloat(p.requestStart),G=parseFloat(p.responseEnd)-parseFloat(p.responseStart),B=parseFloat(p.domInteractive)-parseFloat(p.domLoading),L=parseFloat(p.domComplete)-parseFloat(p.domInteractive),Q=parseFloat(p.loadEventEnd)-parseFloat(p.loadEventStart),Y=parseFloat(p.loadEventEnd)-parseFloat(p.loadEventStart);return{networkTime:t,
serverTime:A,transferTime:G,domProcessingTime:B,domCompletionTime:L,onLoadTime:Q,pageLoadTime:Y}}catch{return null}}window.heatMapLoaded=!0;console.log("%c \u25ba Heatmap.com-The Only Heatmap Tool With Revenue Insights","background-color: #43a047; color: #fff; padding: 5px;");
if(void 0==window._heatmap_paq){var _heatmap_paq=window._heatmap_paq=window._heatmap_paq||[];if(void 0!==window._paq&&0!==window._paq.length){let p=!0;for(let t=0;t<_paq.length;t++)if(Array.isArray(_paq[t])){let A=_paq[t][1];if("setTrackerUrl"===_paq[t][0]&&A!==heatUrl){p=!1;break}}0==p?_heatmap_paq.push(["setTrackerUrl",heatUrl+"heatmap.php"]):_heatmap_paq=window._paq}}
(myHeatEnv=heatRetrieveStore("_heatmapConfigs","_heatMapEnvRecord"))||(myHeatEnv={IDSITE:preHeatmapSiteId,FRONTEND_DEBUG:!1,KINESISGATEWAY:"https://kns.heatmap.com/data",RECORDINGGATEWAY:"https://rdn.heatmap.com",PROXYURL:"",HEATMAPURL:"",S3URL:"",KINESISSTREAM:""});configsResponse="undefined"!==typeof nodeConfigs&&"undefined"!==typeof nodeConfigs.heatmap?nodeConfigs.heatmap:heatmapConfigsResponse.heatmap;
_heatmap_paq.push(["setExcludedQueryParams","/(.*)/ /^utm/ cb _heat_audit _heat_audit_results JS JavaScript".split(" ")],["setExcludedReferrers",["localhost"]],["trackPageView"],["enableLinkTracking"]);var _heatDEBUG=myHeatEnv.FRONTEND_DEBUG,pageLoadTimeArray={};const DEBUGPARAM="";var MAXDEPTH=0,clicks=[];const UNMASK="data-heatmap-unmask",UNMASK_PREPEND="data-heatmap-unmask:::",TimeInterval=250,XYInterval=50,Lookback=3,CLICKEVENT=5,MUTATIONEVENT=6,INITIALDOMEVENT=8,CSSEVENT=13,urlpath=window.location.href;
var dataContainer=[],heatviewsent=0;let FirstHSRSentToAPI=!1,myconfigs=[],max_scroll_height=0,lambda_request="",dom_req="",InitialHeatDomRequest="",gmtTruEarthTransactionSent=!1,isGMTAvailableInConsole=!0,KINESISGATEWAY="https://kns.heatmap.com/data",RECORDINGGATEWAY="https://rdn.heatmap.com",PROXYURL=myHeatEnv.PROXYURL,HEATMAPURL=myHeatEnv.HEATMAPURL,S3URL=myHeatEnv.S3URL,KINESISSTREAM=myHeatEnv.KINESISSTREAM,HeatmapOnly=!1,visitData=[];const maxIdleTime=12E5,maxIdleVisitTime=12E5;
let click_count=0,TakeMobileScreenshot=!0,Exitintervald="",Engagementintervald="",hsrClickEvents=[];var initialDomSent=!1,heartBeatCount=0,isScreenshotReady=0,clickedSelector="";let HeatAuditKey="",onLoadTime="",page_ev_cnt=0,re_page_count=0;const shouldTakeQrScreenshot=-1<urlpath.indexOf("pk_hsr_capturescreen=1&pause_before_screenshot=1")||urlpath.includes("pk_hsr_capturescreen")||urlpath.includes("pause_before_screenshot");window.loadtimesent=!1;window.Heatscreenshotready=!1;
var mysession={config:"",dom:"",firstview:""},loadedScripts={};function _heatmap_set_event_tag(p,t=!0){localStorage.setItem("_heatmap_event_tag",JSON.stringify({type:"string"===typeof p?"string":"object",tag:p,persistent:t,_idv:generatedIdVisit}))}function _heatmap_unset_event_tag(){"undefined"!==typeof localStorage.getItem("_heatmap_event_tag")&&localStorage.removeItem("_heatmap_event_tag")}
let storedEventTag=localStorage.getItem("_heatmap_event_tag")?JSON.parse(localStorage.getItem("_heatmap_event_tag")):null;storedEventTag&&!1===storedEventTag.persistent&&storedEventTag._idv!=generatedIdVisit&&_heatmap_unset_event_tag();function heatmapLoadScripts(p,t=null){let A=p.length;const G=()=>{A--;0===A&&t&&"function"===typeof t&&t()};p.forEach(B=>{loadScriptHeatmap(`${heatUrl}${B}`,G)})}function GzipWebWorker(p,t){var A=new Blob([`
    importScripts('${heatUrl}/pako.md5.js');
    self.onmessage = function(event) {
    var message = event.data;
    var messageId = message.id;
    var fileUrl = message.url;
    var data = message.data;
    var compressedData = pako.gzip(JSON.stringify(data));    
    self.postMessage({ id: messageId, data: compressedData, url:fileUrl });
  };`],{type:"application/javascript"});window.HeatZipWorker=new Worker(URL.createObjectURL(A));A=Date.now()+"_"+Math.random();var G={};HeatZipWorker.onmessage=async function(B){var L=B.data;B=L.id;var Q=L.data;L=L.url;G[B]&&(_heatDEBUG&&console.log("Received compressed data for message",B,":",Q),Q=new Blob([Q]),await fetch(L,{method:"PUT",headers:{"Content-Type":"application/json","Content-Encoding":"gzip"},body:Q}).then(Y=>{_heatDEBUG&&console.log("Response :",Y)}).catch(Y=>{}),delete G[B])};window.HeatZipWorker.onerror=
function(B){_heatDEBUG&&console.error("Worker error: "+B.message)};G[A]=!0;window.HeatZipWorker.postMessage({id:A,data:p,url:t})}function GzipWebWorker(p,t){var A=new Blob([`
    importScripts('${heatUrl}/pako.md5.js');

    self.onmessage = function(event) {
    var message = event.data;
    var messageId = message.id;
    var fileUrl = message.url;
    var data = message.data;
    var compressedData = pako.gzip(JSON.stringify(data));
    self.postMessage({ id: messageId, data: compressedData, url:fileUrl });
  };`],{type:"application/javascript"});window.HeatZipWorker=new Worker(URL.createObjectURL(A));A=Date.now()+"_"+Math.random();var G={};HeatZipWorker.onmessage=async function(B){var L=B.data;B=L.id;var Q=L.data;L=L.url;G[B]&&(_heatDEBUG&&console.log("Received compressed data for message",B,":",Q),Q=new Blob([Q]),await fetch(L,{method:"PUT",headers:{"Content-Type":"application/json","Content-Encoding":"gzip"},body:Q}).then(Y=>{_heatDEBUG&&console.log("Response :",Y)}).catch(Y=>{}),delete G[B])};window.HeatZipWorker.onerror=
function(B){_heatDEBUG&&console.error("Worker error: "+B.message)};G[A]=!0;window.HeatZipWorker.postMessage({id:A,data:p,url:t})}function HeatCustomError(p){this.name="Custom Heatmap Error Message";this.message=p||"Default error message";this.stack=Error().stack}HeatCustomError.prototype=Object.create(Error.prototype);HeatCustomError.prototype.constructor=HeatCustomError;var uheatSiteId=getHeatmapPageSid(),heatmapSessionIds,heatmapSiteId=myHeatEnv.IDSITE??getHeatmapPageSid();
heatmapSiteId=heatmapSiteId!==uheatSiteId?heatmapSiteId:uheatSiteId;localStorage.setItem("heatmap_id_site",heatmapSiteId);localStorage.setItem("heatmap_heat_url",HEATMAPURL);localStorage.removeItem("heatmapPostPurchaseTransactionSent");localStorage.removeItem("heatmapThankYouTransactionSent");if("undefined"===typeof heatmapClientId)var heatmapClientId=heatRetrieveStore("_heatmapConfigs","heatmapClientId");
if("undefined"===typeof heatmapClientCt)var heatmapClientCt=heatRetrieveStore("_heatmapConfigs","heatmapClientCt");if("undefined"===typeof heatmapClientCon)var heatmapClientCon=heatRetrieveStore("_heatmapConfigs","heatmapClientCon");if("undefined"===typeof heatmapClientLoc)var heatmapClientLoc=heatRetrieveStore("_heatmapConfigs","heatmapClientLoc");heatmapSiteId&&_heatmap_paq.push(["setSiteId",heatmapSiteId.toString()]);
function getNewCSSFilePath(p){p=(new URL(window.location.origin)).hostname;return`CSS/${p}${window.location.pathname}/${p}.css`}var heatVisitorID=heatPVisitIdFromStore();_heatmap_paq.push([function(){visitor_id=this.getVisitorId()}]);var viewEnv="matomo-kinesis"===myHeatEnv.KINESISSTREAM&&heatUrl.includes("stage")?"staging":"production",reconnectionAttempts=0,mutationResponse=400;const hmWebSocketURL="wss://vst.heatmap.com/",MAX_RECONNECTION_ATTEMPTS=5,RECONNECTION_DELAY_MS=1E4;
var hmWebVisitId=0,hmWebIdLogHsr=0;
class WebSocketClient{constructor(p){this.hmWebSocketURL=p;this.websocket=null;this.hmWebSocketPendingRequest={};this.reconnectionAttempts=0;this.connect()}async connect(){if(!navigator.userAgent.toLowerCase().includes("heatmap")&&(!this.websocket||this.websocket.readyState&&this.websocket.readyState!==WebSocket.OPEN)){try{this.websocket=new WebSocket(this.hmWebSocketURL),await this.waitForConnection(),_heatDEBUG&&console.log("Connected to WebSocket"),this.sendWSPendingRequests(),"undefined"!==typeof heatmapDebugger?
heatmapDebugger.sendSignal("heatmapCDWebSocket",{status:debugSucessStatus,data:{type:this.hmWebSocketURL}}):null}catch(p){this.reconnectionAttempts<MAX_RECONNECTION_ATTEMPTS?(this.scheduleReconnect(),"undefined"!==typeof heatmapDebugger?heatmapDebugger.sendSignal("heatmapCDWebSocket",{status:debugPendingStatus,data:{type:this.hmWebSocketURL}}):null):("undefined"!==typeof heatmapDebugger?heatmapDebugger.sendSignal("heatmapCDWebSocket",{status:debugFailedStatus,data:{type:this.hmWebSocketURL}}):null,
sendErrorLogToSlack(p,{error_type:"wss",link:this.hmWebSocketURL,siteId:preHeatmapSiteId,ipAddress:heatmapClientId,origin:window.location.origin+window.location.pathname}))}this.websocket&&(this.websocket.addEventListener("message",p=>{if("200"===p.data||200===p.data)mutationResponse=p.data}),this.websocket.addEventListener("close",()=>{this.websocket=null;this.scheduleReconnect()}),this.websocket.addEventListener("error",()=>{this.scheduleReconnect()}))}}async waitForConnection(){return new Promise((p,
t)=>{try{const A=setInterval(()=>{this.websocket.readyState&&this.websocket.readyState===WebSocket.OPEN&&(clearInterval(A),p())},100);setTimeout(()=>{clearInterval(A);t(Error("WebSocket connection timed out"))},1E4)}catch(A){}})}scheduleReconnect(){this.reconnectionAttempts<MAX_RECONNECTION_ATTEMPTS&&!navigator.userAgent.toLowerCase().includes("heatmap")&&setTimeout(()=>{this.reconnectionAttempts++;this.connect()},Math.pow(2,this.reconnectionAttempts)*RECONNECTION_DELAY_MS)}send(p,t=""){navigator.userAgent.toLowerCase().includes("heatmap")||
(this.websocket&&this.websocket.readyState?this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(p):this.hmWebSocketPendingRequest[t]=p)}sendWSPendingRequests(){if(0!==Object.keys(this.hmWebSocketPendingRequest).length)for(const p in this.hmWebSocketPendingRequest)this.websocket&&this.websocket.readyState&&this.websocket.readyState===WebSocket.OPEN&&(this.websocket.send(this.hmWebSocketPendingRequest[p]),delete this.hmWebSocketPendingRequest[p])}}
const hmWS=new WebSocketClient(hmWebSocketURL),recordEnv="matomo-kinesis"===myHeatEnv.KINESISSTREAM?"staging":"live",hmNodeWS=new WebSocketClient(`wss://service.heatmap.com/ws/record/events?env=${recordEnv}`),lastRecordBeforeUnload=JSON.parse(localStorage.getItem("heat_last_record_before_unload_event"));
if(lastRecordBeforeUnload)try{window.heatmapRateLimiting&&window.heatmapRateLimiting.recording.tracking&&(hmNodeWS.send(JSON.stringify(lastRecordBeforeUnload.recording_record),"recordings"),localStorage.setItem("heat_last_record_before_unload_event",JSON.stringify({event_record:lastRecordBeforeUnload.event_record})))}catch(p){}function Heatuuidv4(){1;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,p=>(p^crypto.getRandomValues(new Uint8Array(1))[0]&15>>p/4).toString(16))}
function HeatmapsetCookie(p,t,A){const G=new Date;let B=location.host,L=B.split(".");L[0]="";G.setTime(G.getTime()+864E5*A);A="expires="+G.toUTCString();p=p+"="+t+";"+A+";path=/";p=B&&2<L.length?p+(";domain="+L.join(".")):p+(";domain=."+B);document.cookie=p}
let inactivityTime=function(){function p(){_heatDEBUG&&console.log("Recording Stopped");heatmapGenerateUniqueId(heatmapSiteId,"_idl");heatmapGenerateUniqueId(heatmapSiteId,"_idv");HeatmapTracking.HeatmapSessionRecording.recording.stopRecordingMutations();HeatmapTracking.HeatmapSessionRecording.recording.stopRecording();clearInterval(Exitintervald);window.removeEventListener("load",A,!1);Q.forEach(function(Y){document.removeEventListener(Y,A,!1)})}function t(){}function A(){_heatDEBUG&&console.log("Event Stopped")}
function G(){_heatDEBUG&&console.log("Recording ");clearTimeout(B);clearTimeout(L);B=setTimeout(p,maxIdleTime);L=setTimeout(t,maxIdleVisitTime)}let B,L;window.addEventListener("load",G,!0);let Q=["mousedown","mousemove","keypress","scroll","touchstart"];Q.forEach(function(Y){document.addEventListener(Y,G,!0)})};inactivityTime();function checkQuery(p){return location.href&&-1<location.href.indexOf(p)}
function GetHeatSampleResult(p){return checkQuery("pk_hsr_forcesample=1")||checkQuery("pk_hsr_capturescreen=1")?!0:100<=p?!0:0>=p?!1:100*Math.random()<p}let CALLED_UNLOAD=!1;function resetGroupRecordingId(){const p=window.heatmapRateLimiting?window.heatmapRateLimiting.recording.sample_rate:100;localStorage.setItem("group_recording_id",JSON.stringify({id:Heatuuidv4(),lastUpdated:(new Date).getTime(),force_record:!1,sample_rate:p,get_session:GetHeatSampleResult(p),page_count:re_page_count}))}
function updateGroupRecordingId(p=!1,t=null){const A=JSON.parse(localStorage.getItem("group_recording_id"));re_page_count=t?parseInt(A.page_count)+1:A.page_count;t=A.sample_rate?A.sample_rate:window.heatmapRateLimiting.recording.sample_rate;localStorage.setItem("group_recording_id",JSON.stringify({id:A.id,lastUpdated:(new Date).getTime(),force_record:A.force_record?A.force_record:p,sample_rate:t,get_session:GetHeatSampleResult(t),page_count:re_page_count}))}
function serializeObjectToQueryString(p,t=""){const A=[];for(const G in p)if(Object.prototype.hasOwnProperty.call(p,G)){const B=p[G],L=t?`${t}[${G}]`:G;"object"===typeof B?A.push(serializeObjectToQueryString(B,L)):A.push(`${L}=${encodeURIComponent(B)}`)}return A.join("&")}
function filterSerializedDomObject(p,t=[2,14],A=[],G=null){p=decodeURIComponent(p);var B=new URLSearchParams(p);p={};var L,Q;for([L,Q]of B.entries()){var Y=L.match(/^hsr_ev\[(\d+)\]\[(\w+)\]$/);if(Y)B=Y[1],Y=Y[2],p.hsr_ev||(p.hsr_ev=[]),p.hsr_ev[B]||(p.hsr_ev[B]={}),p.hsr_ev[B][Y]=Q;else if(!A.length||A.length&&A.includes(L))p[L]=Q}void 0!==p.hsr_ev&&(p.hsr_ev=p.hsr_ev.filter(T=>t.includes(parseInt(T.ty))),"session"===G&&p.hsr_ev.forEach(T=>{T.cnt=page_ev_cnt++;5==T.ty&&(T.page_cnt=re_page_count)}));
return p}localStorage.getItem("group_recording_id")||resetGroupRecordingId();const group_recording_id=JSON.parse(localStorage.getItem("group_recording_id")),timeDiff=(new Date).getTime()-group_recording_id.lastUpdated,timeDiffInSeconds=Math.floor(timeDiff/1E3);600<timeDiffInSeconds&&resetGroupRecordingId();var heatmapDeviceType=window.heatmapDeviceType="Desktop";480>=window.innerWidth?heatmapDeviceType="Mobile":480<=window.innerWidth&&850>=window.innerWidth&&(heatmapDeviceType="Tablet");
var heatMapos="",heatMapuserAgent=navigator.userAgent;heatMapos=heatMapuserAgent.match(/Windows/i)?"Windows":heatMapuserAgent.match(/Android/i)?"Android":heatMapuserAgent.match(/iPhone|iPad|iPod/i)?"iOS":heatMapuserAgent.match(/aMac/i)?"MacOS":heatMapuserAgent.match(/Linux/i)?"Linux":heatMapuserAgent.match(/Unix/i)?"Unix":"Unknown";_heatDEBUG&&console.log("Device Type:",heatmapDeviceType);_heatDEBUG&&console.log("Operating System:",heatMapos);
window.heatPauseBeforeSCreenshot||"iOS"==heatMapos||"Mobile"!=heatmapDeviceType||(TakeMobileScreenshot=!1);
function processGTMTransaction(p){try{if("undefined"==typeof dataLayer)isGMTAvailableInConsole=!1;else{if("undefined"===typeof t)var t={"/store":[306],"/account":[1562,893],"/confirmation-reg":[645],"/checkout":[348,680,1399,1412,1430,1884,1906],"/ty/e":[346],"/checkouts":[1581],"/confirmation":[1382],"/thank-you":[1972]};var A=null,G;for(G in t)if(t[G].includes(p)){A=G;break}A&&!gmtTruEarthTransactionSent&&heaturl.href.toLocaleLowerCase().includes(A)&&("undefined"===typeof heatmapThankYouPushTransaction&&
loadScriptHeatmap(`${HEATMAPURL}/conversions.js?type=GTMDataLayer&siteId=${p}`),"undefined"!==typeof heatmapExecuteGTMDataLayer&&heatmapExecuteGTMDataLayer(HEATMAPURL,p))}wordpressTransaction()}catch(B){sendErrorLogToSlack(B,B)}}
function wordpressTransaction(){try{for(var p=document.cookie.split(";"),t=null,A=0;A<p.length;A++){var G=p[A].trim();if(0===G.indexOf("heatmapWooCommCookie=")){t=G.substring(21);break}}if(t){var B=JSON.parse(decodeURIComponent(t));B&&(B._idv=generatedIdVisit,B._cip=heatRetrieveStore("_heatmapConfigs","heatmapClientId"),navigator.sendBeacon(`${heatUrl}heatmap.php`,JSON.stringify(B)),document.cookie="heatmapWooCommCookie=''; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;")}}catch(L){sendErrorLogToSlack(L,
L)}}const Client_heat_url=new URL(window.location.href),AuditParam=Client_heat_url.searchParams.get("_heat_audit"),retrievedData=getLocalWithExpiry("_heat_audit",AuditParam),AuditResults=Client_heat_url.searchParams.get("_heat_audit_results");
if((null!==AuditParam||null!==retrievedData)&&null===AuditResults)try{var new_audit_val=heatmapRandomString(10);retrievedData?HeatAuditKey=retrievedData:(HeatAuditKey=new_audit_val,localStorage.removeItem("_heat_audit_visit"),localStorage.removeItem("_heat_audit_idls"),localStorage.removeItem("_heat_audit_clicks"),localStorage.removeItem("_heat_audit_trans"),setLocalWithExpiry("_heat_audit",HeatAuditKey,30));var heat_visit={_idv:generatedIdVisit,_heat_audit_key:HeatAuditKey};localStorage.setItem("_heat_audit_visit",
JSON.stringify(heat_visit));const p=JSON.parse(localStorage.getItem("_heat_audit_idls"))||[];p.push({_idl:generatedIdloghsr,_heat_audit_key:HeatAuditKey});localStorage.setItem("_heat_audit_idls",JSON.stringify(p));if("undefined"!==typeof window._heatmap_pre_clicks&&0<window._heatmap_pre_clicks.length){for(var PreclickArr=[],i=window._heatmap_pre_clicks.length-1;0<=i;i--){var click_data=window._heatmap_pre_clicks[i].data;click_data._heat_audit_key=HeatAuditKey;PreclickArr.push(click_data)}const t=
(JSON.parse(localStorage.getItem("_heat_audit_clicks"))||[]).concat(PreclickArr);localStorage.setItem("_heat_audit_clicks",JSON.stringify(t))}}catch(p){sendErrorLogToSlack(p,p)}function setLocalWithExpiry(p,t,A){try{const G=(new Date).getTime()+6E4*A;localStorage.setItem(p,JSON.stringify({value:t,expiry:G}))}catch(G){sendErrorLogToSlack(G,G)}}
function getLocalWithExpiry(p,t){try{const A=localStorage.getItem(p);if(!A)return null;const G=JSON.parse(A);return(new Date).getTime()>G.expiry&&null!==t?(localStorage.removeItem(p),null):G.value}catch(A){sendErrorLogToSlack(A,A)}}
function isRageClick(p,t){try{p.length>=Lookback&&p.shift();p.push(t);if(p.length<Lookback)return!1;allSameSelector=allClicksProximity=allClicksRapid=!0;for(ix=1;ix<p.length;ix++)if(allSameSelector=p[ix].s===p[ix-1].s,allClicksRapid&=Math.abs(p[ix].ti-p[ix-1].ti)<=TimeInterval,allClicksProximity&=Math.abs(p[ix].x-p[ix-1].x)<=XYInterval,allClicksProximity&=Math.abs(p[ix].y-p[ix-1].y)<=XYInterval,!allClicksRapid||!allClicksProximity||!allSameSelector)return!1;return allSameSelector&&allClicksRapid&&
allClicksProximity?(_heatDEBUG&&console.log("rage "+t.s+"  "+t.ti),!0):!1}catch(A){sendErrorLogToSlack(A,A)}}
function captureHeader(){try{if(document.getElementById("textareaHeader"))return!1;var p=(new XMLSerializer).serializeToString(document.head);a:{var t=p;try{var A=document.createElement("div");A.innerHTML=t;for(var G=A.getElementsByTagName("script"),B=G.length;B--;)G[B].parentNode.removeChild(G[B]);var L=A.getElementsByTagName("div");for(B=L.length;B--;)L[B].parentNode.removeChild(L[B]);var Q=A.getElementsByTagName("meta");for(B=Q.length;B--;)Q[B].parentNode.removeChild(Q[B]);var Y=A.getElementsByTagName("link");
for(B=Y.length;B--;)Y[B].href=PROXYURL+"/sttracker/css/get_file?url="+encodeURIComponent(Y[B].href);for(var T=A.getElementsByTagName("style"),ua=T.length-1;0<=ua;)t=T[ua],void 0!==t&&t.innerHTML.includes("chrome-extension")&&T[ua].parentNode.removeChild(t),ua--;p=A.innerHTML;break a}catch(qa){sendErrorLogToSlack(qa,qa)}p=void 0}myTextArea=document.createElement("div");myTextArea.innerHTML=encodeURI(p);myTextArea.setAttribute(UNMASK,1);myTextArea.id="textareaHeader";myTextArea.classList.add(UNMASK);
myTextArea.style.display="none";myTextArea.setAttribute("clientWidth",document.body.clientWidth);document.body.prepend(myTextArea);v=decodeURI(myTextArea.value);return!0}catch(qa){return _heatDEBUG&&console.log(qa),sendErrorLogToSlack(error,error),!1}}
function cssPath(p){if(p instanceof Element){for(var t=[];p.nodeType===Node.ELEMENT_NODE;){var A=p.nodeName.toLowerCase();if(p.id){A+="#"+p.id;t.unshift(A);break}else{for(var G=p,B=1;G=G.previousElementSibling;)G.nodeName.toLowerCase()==A&&B++;1!=B&&(A+=":nth-of-type("+B+")")}t.unshift(A);p=p.parentNode}return t.join(" > ")}}
function fixElementAttributes(p){var t=!1,A=window.getComputedStyle(p);for(idx=0;idx<A.length;idx++){a=A[idx];var G=p.style.getPropertyValue(a),B=A.getPropertyValue(a);G!=B&&(p.style.setProperty(a,B),t=!0)}return t}function fixElement(p,t){void 0===t&&(t=0);if(t>MAXDEPTH)return!1;var A=!1;if("BODY"===p.tagName||"HTML"===p.tagName||"STYLE"===p.tagName||"SCRIPT"===p.tagName)return!1;p.parentElement&&MAXDEPTH&&(A|=fixElement(p.parentElement,t+1));A!=fixElementAttributes(p)}
function fixDom(p){var t=document.body.getElementsByTagName("*");void 0!==t&&0!=t.length&&t.forEach(function(A){attribs=window.getComputedStyle(A);A.style.display!=attribs.display&&(fixElement(A),p.initialDOM=null)})}"object"!==typeof _heatmap_paq&&(_heatmap_paq=[]);
"object"!==typeof window.HeatmapTracking&&(window.HeatmapTracking=window.HeatmapTracker=function(){function p(e){try{return Ja(e)}catch(b){return decodeURIComponent(e)}}function t(e){return"undefined"!==typeof e}function A(e){return"object"===typeof e}function G(e){return"string"===typeof e||e instanceof String}function B(e){return t(e)&&("number"===typeof e||e instanceof Number||G(e)&&e.length)}function L(e){if(!e)return!0;for(var b in e)if(Object.prototype.hasOwnProperty.call(e,b))return!1;return!0}
function Q(e){"undefined"!==typeof console&&console&&console.error&&console.error(e)}function Y(){var e,b;for(e=0;e<arguments.length;e+=1){var g=null;arguments[e]&&arguments[e].slice&&(g=arguments[e].slice());var f=arguments[e];var d=f.shift();if(G(d)&&0<d.indexOf("::")){var k=d.split("::");var m=k[0];d=k[1];"object"===typeof H[m]&&"function"===typeof H[m][d]?H[m][d].apply(H[m],f):g&&Sa.push(g)}else for(b=0;b<ea.length;b++)if(G(d)){m=ea[b];var n=0<d.indexOf(".");if(n)if(k=d.split("."),m&&"object"===
typeof m[k[0]])m=m[k[0]],d=k[1];else if(g){Sa.push(g);break}if(m[d])m[d].apply(m,f);else if(k="The method '"+d+'\' was not found in "_heatmap_paq" variable.',Q(k),!n)throw new TypeError(k);if("addTracker"===d)break;if("setTrackerUrl"===d||"setSiteId"===d)break}else d.apply(ea[b],f)}}function T(e,b,g,f){if(e.addEventListener)return e.addEventListener(b,g,f),!0;if(e.attachEvent)return e.attachEvent("on"+b,g);e["on"+b]=g}function ua(e){"complete"===N.readyState?e():F.addEventListener?F.addEventListener("load",
e,!1):F.attachEvent&&F.attachEvent("onload",e)}function qa(e){var b=!1;(b=N.attachEvent?"complete"===N.readyState:"loading"!==N.readyState)?e():(N.addEventListener?T(N,"DOMContentLoaded",function f(){N.removeEventListener("DOMContentLoaded",f,!1);b||(b=!0,e())}):N.attachEvent&&(N.attachEvent("onreadystatechange",function f(){"complete"===N.readyState&&(N.detachEvent("onreadystatechange",f),b||(b=!0,e()))}),N.documentElement.doScroll&&F===F.top&&function d(){if(!b){try{N.documentElement.doScroll("left")}catch(k){setTimeout(d,
0);return}b=!0;e()}}()),T(F,"load",function(){b||(b=!0,e())},!1))}function ha(e,b,g){if(!e)return"";var f="",d,k;for(d in va)Object.prototype.hasOwnProperty.call(va,d)&&(k=va[d]&&"function"===typeof va[d][e])&&(k=va[d][e],(k=k(b||{},g))&&(f+=k));return f}function M(e,b){var g=N.createElement("script");g.type="text/javascript";g.src=e;g.readyState?g.onreadystatechange=function(){var f=this.readyState;if("loaded"===f||"complete"===f)g.onreadystatechange=null,b()}:g.onload=b;N.getElementsByTagName("head")[0].appendChild(g)}
function gc(){var e="";try{e=F.top.document.referrer}catch(b){if(F.parent)try{e=F.parent.document.referrer}catch(g){e=""}}""===e&&(e=N.referrer);return e}function Ab(e){return(e=RegExp("^([a-z]+):").exec(e))?e[1]:null}function ya(e){var b=RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(e);return b?b[1]:e}function Lb(e,b){e=String(e);return 0===e.lastIndexOf(b,0)}function Pa(e,b){e=String(e);return-1!==e.indexOf(b,e.length-b.length)}function cb(e,b){e=String(e);return e.substr(0,e.length-
b)}function Ta(e,b){e=String(e);if(-1===e.indexOf("?"+b+"=")&&-1===e.indexOf("&"+b+"="))return e;var g=e.indexOf("?");if(-1===g)return e;var f=e.substr(g+1);e=e.substr(0,g);if(f){g="";var d=f.indexOf("#");-1!==d&&(g=f.substr(d+1),f=f.substr(0,d));d=f.split("&");var k=d.length-1;for(k;0<=k;k--)f=d[k].split("=")[0],f===b&&d.splice(k,1);(b=d.join("&"))&&(e=e+"?"+b);g&&(e+="#"+g)}return e}function Ya(e,b){return(e=(new RegExp("[\\?&#]"+b+"=([^&#]*)")).exec(e))?p(e[1]):""}function Ea(e){return e&&String(e)===
e?e.replace(/^\s+|\s+$/g,""):e}function hc(e){var b=function(ra,da){return ra<<da|ra>>>32-da},g=function(ra){var da="",ja;for(ja=7;0<=ja;ja--){var Ka=ra>>>4*ja&15;da+=Ka.toString(16)}return da},f,d=[],k=1732584193,m=4023233417,n=2562383102,r=271733878,w=3285377520,x=[];e=decodeURIComponent(O(e));var y=e.length;for(f=0;f<y-3;f+=4){var C=e.charCodeAt(f)<<24|e.charCodeAt(f+1)<<16|e.charCodeAt(f+2)<<8|e.charCodeAt(f+3);x.push(C)}switch(y&3){case 0:f=2147483648;break;case 1:f=e.charCodeAt(y-1)<<24|8388608;
break;case 2:f=e.charCodeAt(y-2)<<24|e.charCodeAt(y-1)<<16|32768;break;case 3:f=e.charCodeAt(y-3)<<24|e.charCodeAt(y-2)<<16|e.charCodeAt(y-1)<<8|128}for(x.push(f);14!==(x.length&15);)x.push(0);x.push(y>>>29);x.push(y<<3&4294967295);for(e=0;e<x.length;e+=16){for(f=0;16>f;f++)d[f]=x[e+f];for(f=16;79>=f;f++)d[f]=b(d[f-3]^d[f-8]^d[f-14]^d[f-16],1);C=k;y=m;var D=n;var z=r;var P=w;for(f=0;19>=f;f++){var ca=b(C,5)+(y&D|~y&z)+P+d[f]+1518500249&4294967295;P=z;z=D;D=b(y,30);y=C;C=ca}for(f=20;39>=f;f++)ca=b(C,
5)+(y^D^z)+P+d[f]+1859775393&4294967295,P=z,z=D,D=b(y,30),y=C,C=ca;for(f=40;59>=f;f++)ca=b(C,5)+(y&D|y&z|D&z)+P+d[f]+2400959708&4294967295,P=z,z=D,D=b(y,30),y=C,C=ca;for(f=60;79>=f;f++)ca=b(C,5)+(y^D^z)+P+d[f]+3395469782&4294967295,P=z,z=D,D=b(y,30),y=C,C=ca;k=k+C&4294967295;m=m+y&4294967295;n=n+D&4294967295;r=r+z&4294967295;w=w+P&4294967295}ca=g(k)+g(m)+g(n)+g(r)+g(w);return ca.toLowerCase()}function db(e,b,g){e||="";b||="";if("translate.googleusercontent.com"===e)""===g&&(g=b),b=Ya(b,"u"),e=ya(b);
else if("cc.bingj.com"===e||"webcache.googleusercontent.com"===e||"74.6."===e.slice(0,5))b=N.links[0].href,e=ya(b);return[e,b,g]}function Qa(e){var b=e.length;"."===e.charAt(--b)&&(e=e.slice(0,b));"*."===e.slice(0,2)&&(e=e.slice(1));-1!==e.indexOf("/")&&(e=e.substr(0,e.indexOf("/")));return e}function U(e){return e?!t(e.children)&&t(e.childNodes)||t(e.children)?e.children:[]:[]}function R(e,b){if(e&&e.indexOf)return e.indexOf(b);if(!t(e)||null===e||!e.length)return-1;var g=e.length;if(0===g)return-1;
for(var f=0;f<g;){if(e[f]===b)return f;f++}return-1}function eb(e){function b(f,d){if(F.getComputedStyle)return N.defaultView.getComputedStyle(f,null)[d];if(f.currentStyle)return f.currentStyle[d]}function g(f,d,k,m,n,r,w){var x=f.parentNode,y;a:{for(y=f.parentNode;y;){if(y===N){y=!0;break a}y=y.parentNode}y=!1}if(!y)return!1;if(9===x.nodeType)return!0;if("0"===b(f,"opacity")||"none"===b(f,"display")||"hidden"===b(f,"visibility"))return!1;t(d)&&t(k)&&t(m)&&t(n)&&t(r)&&t(w)||(d=f.offsetTop,n=f.offsetLeft,
m=d+f.offsetHeight,k=n+f.offsetWidth,r=f.offsetWidth,w=f.offsetHeight);if(e===f&&(0===w||0===r)&&"hidden"===b(f,"overflow"))return!1;if(x){if("hidden"===b(x,"overflow")||"scroll"===b(x,"overflow"))if(n+1>x.offsetWidth+x.scrollLeft||n+r-1<x.scrollLeft||d+1>x.offsetHeight+x.scrollTop||d+w-1<x.scrollTop)return!1;f.offsetParent===x&&(n+=x.offsetLeft,d+=x.offsetTop);return g(x,d,k,m,n,r,w)}return!0}return e?g(e):!1}function Ua(e,b){if(b)return b;e=aa.toAbsoluteUrl(e);b=String(e);-1!==b.indexOf("?")&&(b=
e.indexOf("?"),e=e.slice(0,b));Pa(e,"heatmap.php")?e=cb(e,11):Pa(e,"heatmap.php")?e=cb(e,11):Pa(e,".php")&&(b=e.lastIndexOf("/"),e=e.slice(0,b+1));Pa(e,"/js/")&&(e=cb(e,3));return e}function ka(e){var b=RegExp("index\\.php\\?module=Overlay&action=startOverlaySession&idSite=([0-9]+)&period=([^&]+)&date=([^&]+)(&segment=[^&]*)?").exec(N.referrer);if(b){if(b[1]!==String(e))return!1;e=b[2];var g=b[3];(b=b[4])?0===b.indexOf("&segment=")&&(b=b.substr(9)):b="";F.name="Heatmap_Overlay###"+e+"###"+g+"###"+
b}b=F.name.split("###");return 4===b.length&&"Heatmap_Overlay"===b[0]}function qb(e,b,g){var f=F.name.split("###"),d=f[1],k=f[2],m=f[3],n=Ua(e,b);M(n+"plugins/Overlay/client/client.js?v=1",function(){Heatmap_Overlay_Client.initialize(n,g,d,k,m)})}function Za(){try{var e=F.frameElement}catch(b){return!0}if(t(e))return e&&"iframe"===String(e.nodeName).toLowerCase()?!0:!1;try{return F.self!==F.top}catch(b){return!0}}function rb(e,b){function g(c){return za&&"mtm_consent_removed"!==c?0:(c=(new RegExp("(^|;)[ ]*"+
c+"=([^;]*)")).exec(N.cookie))?Ja(c[2]):0}function f(c,h,l,q,u,I,K){if(!za||"mtm_consent_removed"===c){if(l){var X=new Date;X.setTime(X.getTime()+l)}K||="Lax";"undefined"===typeof q&&(q="/");"undefined"===typeof u&&(u=null);N.cookie=c+"="+O(h)+(l?";expires="+X.toGMTString():"")+";path="+(q||"/")+(u?";domain="+u:"")+(I?";secure":"")+";SameSite="+K;(!l||0<=l)&&g(c)!==String(h)&&Q("There was an error setting cookie `"+c+"`. Please check domain and path.")}}function d(c){var h;c=Ta(c,"pk_vid");c=Ta(c,
"ignore_referrer");c=Ta(c,"ignore_referer");for(h=0;h<ic.length;h++)c=Ta(c,ic[h]);return Hc?(h=RegExp("#.*"),c.replace(h,"")):c}function k(c,h){c=String(c).toLowerCase();h=String(h).toLowerCase();if(c===h)return!0;if("."===h.slice(0,1)){if(c===h.slice(1))return!0;var l=c.length-h.length;if(0<l&&c.slice(l)===h)return!0}return!1}function m(c){var h=document.createElement("a");0!==c.indexOf("//")&&0!==c.indexOf("http")&&(0===c.indexOf("*")&&(c=c.substr(1)),0===c.indexOf(".")&&(c=c.substr(1)),c="http://"+
c);h.href=aa.toAbsoluteUrl(c);return h.pathname?h.pathname:""}function n(c,h){Lb(h,"/")||(h="/"+h);Lb(c,"/")||(c="/"+c);if("/"===h||"/*"===h||c===h)return!0;h=String(h).toLowerCase();c=String(c).toLowerCase();if(Pa(h,"*"))return(h=h.slice(0,-1))&&"/"!==h&&c!==h?0===c.indexOf(h):!0;Pa(c,"/")||(c+="/");Pa(h,"/")||(h+="/");return 0===c.indexOf(h)}function r(c,h){var l;for(l=0;l<Va.length;l++){var q=Qa(Va[l]);var u=m(Va[l]);if(k(c,q)&&n(h,u))return!0}return!1}function w(c){var h;for(h=0;h<Va.length;h++){var l=
Qa(Va[h].toLowerCase());if(c===l)return!0;if("."===l.slice(0,1)){if(c===l.slice(1))return!0;var q=c.length-l.length;if(0<q&&c.slice(q)===l)return!0}}return!1}function x(c){if(!c.length||!Bb.length)return!1;var h=ya(c);var l=m(c);0===h.indexOf("www.")&&(h=h.substr(4));for(c=0;c<Bb.length;c++){var q=Qa(Bb[c]);var u=m(Bb[c]);0===q.indexOf("www.")&&(q=q.substr(4));if(k(h,q)&&n(l,u))return!0}return!1}function y(c,h){c=c.replace("send_image=0","send_image=1");var l=new Image(1,1);l.onload=function(){Ra=
0;"function"===typeof h&&h({request:c,trackerUrl:ma,success:!0})};l.onerror=function(){"function"===typeof h&&h({request:c,trackerUrl:ma,success:!1})};l.src=ma+(0>ma.indexOf("?")?"?":"&")+c}function C(c){return"POST"===jc?!0:c&&(2E3<c.length||0===c.indexOf('{"requests"'))}function D(c,h,l){if("object"!==typeof V||"function"!==typeof V.sendBeacon||"function"!==typeof Blob)return!1;var q={type:"application/x-www-form-urlencoded; charset=UTF-8"},u=!1,I=ma;if(0==KINESISGATEWAY.length){let Z=heatRetrieveStore("_heatmapConfigs",
"_heatMapEnvRecord");Z?(KINESISGATEWAY=Z.KINESISGATEWAY,RECORDINGGATEWAY=Z.RECORDINGGATEWAY,PROXYURL=Z.PROXYURL,HEATMAPURL=Z.HEATMAPURL,S3URL=Z.S3URL,KINESISSTREAM=Z.KINESISSTREAM,myHeatEnv=Z):setTimeout(()=>{Z=heatRetrieveStore("_heatmapConfigs","_heatMapEnvRecord");null!==Z&&void 0!==Z.KINESISGATEWAY&&(KINESISGATEWAY=Z.KINESISGATEWAY,RECORDINGGATEWAY=Z.RECORDINGGATEWAY,PROXYURL=Z.PROXYURL,HEATMAPURL=Z.HEATMAPURL,S3URL=Z.S3URL,KINESISSTREAM=Z.KINESISSTREAM,myHeatEnv=Z)},2500)}try{var K=c.split("=")[0],
X=c.split("=")[1];X=X.split("&")[0];_heatDEBUG&&console.log(X);if("action_name"==c.split("=")[0]){heatmapClientId=null==heatmapClientId?heatRetrieveStore("_heatmapConfigs","heatmapClientId"):heatmapClientId;c+=`&_idv=${generatedIdVisit}&uagent=${navigator.userAgent}&cip=${heatmapClientId}&lang=${navigator.language}&hsr_return=${isReturningUser}`;var W=(new URLSearchParams("?"+c)).get("_id");c+="&Storage_updated=1";c+=onLoadTime;HeatmapsetCookie("mr_vid",W,1);HeatmapsetCookie("_heat_idv",generatedIdVisit,
1);HeatmapsetCookie("_heat_idl",generatedIdloghsr,1);localStorage.setItem("_user_agent",navigator.userAgent);localStorage.setItem("_mr_vid",W);updateGroupRecordingId(!1,!0)}new Blob([c],q);!l||C(c)||c.includes("&_id=")||(new Blob([],q),I=I+(0>I.indexOf("?")?"?":"&")+c);l="";u=!0;q="staging"==viewEnv?"staging-pageview":"staging-visits";if(c.includes("hsr_vid")&&!FirstHSRSentToAPI){let Z=c.replace(lambda_request,"");Z=Z.replace(/\s/g,"");l=Z+`&initalDOMOnly=1&_idv=${generatedIdVisit}&_idl=${generatedIdloghsr}`;
_heatDEBUG&&console.log("Initial DOM to API",l);heatmapPushLogsObject("Send the loghsr request to the api.","Initial HSR");window.heatmapRateLimiting&&window.heatmapRateLimiting.events.tracking&&(window.loadtimesent||(hmWS.send(JSON.stringify({action:q,data:pageLoadTimeArray}),"pageloadtime"),heatSaveStore("heatmapDCPageLoadTime",1,"heatmapDebugger")),visitData.action_name&&(visitData.action_name=document.title,hmWS.send(JSON.stringify({action:q,data:visitData}),"visit"),heatSaveStore("heatmapDCVisit",
1,"heatmapDebugger"),visitData={}),hmWS.send(JSON.stringify({action:q,data:filterSerializedDomObject(l)}),"loghsr"),heatSaveStore("heatmapDCLogHSR",1,"heatmapDebugger"),window.loadtimesent=!0);FirstHSRSentToAPI=!0}dom_req&&0<dom_req.length&&(dom_req="");if("hsr_vid"==K){if(_heatDEBUG&&console.log("Kinesis",K),_heatDEBUG&&console.log(c),DEBUGPARAM&&(c=c+"&debug="+DEBUGPARAM),c+=`&_idv=${generatedIdVisit}&_idl=${generatedIdloghsr}`,HeatmapOnly&&(c+="&HeatmapOnly=1",HeatmapTracking.HeatmapSessionRecording.recording.stopRecordingMutations()),
c.includes("hsr_vid")||_heatDEBUG&&console.log("sending "+c),!c.includes("hsr_vid")||c.includes("hsr_ev")){if(KINESISGATEWAY.includes("localhost")){var ba=new URLSearchParams(c),wa=new Blob([ba.toString()],{type:"application/x-www-form-urlencoded; charset=UTF-8"});V.sendBeacon(I,wa)}else{I=(La=null,Ic=null)=>{const md={method:"POST",body:JSON.stringify(La)};if(La){if(window.heatmapRateLimiting&&!window.heatmapRateLimiting.events.tracking||!heatmapHsrIds)return localStorage.removeItem("_heatSessDom"),
!0;try{window.fetch(KINESISGATEWAY,md).then(Mb=>{200===Mb.status&&c.includes("[ty]=5")&&(InitialHeatDomRequest="",localStorage.removeItem("_heatSessDom"))}).catch(Mb=>{V.sendBeacon(KINESISGATEWAY,JSON.stringify(La));c.includes("[ty]=5")&&(InitialHeatDomRequest="",localStorage.removeItem("_heatSessDom"))})}catch(Mb){}isGMTAvailableInConsole&&processGTMTransaction(heatmapSiteId)}if(null!==heatmapSessionIds&&null!==Ic){if(window.heatmapRateLimiting&&!window.heatmapRateLimiting.recording.tracking)return!0;
try{hmNodeWS.send(JSON.stringify(Ic),"recordings")}catch(Mb){}}};ba=K=null;let Z=filterSerializedDomObject(c,[2]);var Fa=filterSerializedDomObject(c,[2,5,8,14,15]);let Nb=filterSerializedDomObject(c,[1,2,3,4,5,6,9,10,12,13],"","session");dataContainer.push(filterSerializedDomObject(c,[1,2,8,10,12,13,14,15],"cip heatmap_hsr _idl _idv hsr_smp hsr_sh hsr_return hsr_fyp lang audit_key".split(" ")));CALLED_UNLOAD?"undefined"!==typeof heatmapDebugger?heatmapDebugger.onExitEvents(serializeObjectToQueryString(Fa)):
null:"undefined"!==typeof heatmapDebugger?heatmapDebugger.updateEvents(serializeObjectToQueryString(Fa)):null;if(0!==Fa.hsr_ev.length){let La=serializeObjectToQueryString(Fa);K={Data:window.btoa(La),PartitionKey:`${(new Date).getTime()}`,StreamName:KINESISSTREAM}}_heatDEBUG&&console.log("removed!");Fa=triggerSinglepage?100:50;if(0==Z.hsr_ev.length&&heartBeatCount>=Fa)return InitialHeatDomRequest=c="",localStorage.removeItem("_heatSessDom"),!0;0==Z.hsr_ev.length?heartBeatCount++:0!==heartBeatCount&&
heartBeatCount--;I(K,null);if(0!==Nb.hsr_ev.length){let La=serializeObjectToQueryString(Nb);ba={Data:window.btoa(La),PartitionKey:`${(new Date).getTime()}`,StreamName:KINESISSTREAM};I(null,ba)}if(!c.includes("[ty]=14")){const La=JSON.parse(localStorage.getItem("heat_last_record_before_unload_event"));La&&(I(La.event_record,La.recording_record),localStorage.removeItem("heat_last_record_before_unload_event"));CALLED_UNLOAD&&(localStorage.setItem("heat_last_record_before_unload_event",JSON.stringify({event_record:K,
recording_record:ba})),CALLED_UNLOAD=!1)}}window._heatmap_pre_clicks=[];localStorage.removeItem("_heatmap_unsent")}}else 0==heatviewsent&&(heatviewsent=1,visitData=filterSerializedDomObject(c),window.heatmapRateLimiting&&(window.heatmapRateLimiting.events.tracking&&nodeConfigs&&nodeConfigs.heatmap&&nodeConfigs.heatmap.heatmaps&&nodeConfigs.heatmap.heatmaps.length&&(heatmapPushLogsObject("Sending the initial pageview and visit record through the socket.","Initial Pageview"),hmWS.send(JSON.stringify({action:q,
data:filterSerializedDomObject(c)}),"visit"),heatSaveStore("heatmapDCVisit",1,"heatmapDebugger"),visitData={}),window.heatmapRateLimiting.recording.tracking&&hmNodeWS.send(JSON.stringify({request:"ping"}),"recordings")))}catch(Z){return!1}u&&"function"===typeof h&&h({request:c,trackerUrl:ma,success:!0,isSendBeacon:!0});return u}function z(c,h,l){t(l)&&null!==l||(l=!0);J&&D(c,h,l)||setTimeout(function(){if(!J||!D(c,h,l))try{var q=F.XMLHttpRequest?new F.XMLHttpRequest:F.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):
null;q.open("POST",ma,!0);q.onreadystatechange=function(){4!==this.readyState||200<=this.status&&300>this.status?4===this.readyState&&"function"===typeof h&&h({request:c,trackerUrl:ma,success:!0,xhr:this}):J&&D(c,h,l)||!l?"function"===typeof h&&h({request:c,trackerUrl:ma,success:!1,xhr:this}):y(c,h)};q.setRequestHeader("Content-Type",Jc);q.withCredentials=!0}catch(u){q=J&&D(c,h,l),!q&&l?y(c,h):"function"===typeof h&&h({request:c,trackerUrl:ma,success:!1})}},50)}function P(c){c=(new Date).getTime()+
c;if(!Aa||c>Aa)Aa=c}function ca(){Ob=(new Date).getTime()}function ra(){var c=(new Date).getTime();return!Ob||c-Ob>sb}function da(){ra()&&kc()}function ja(){"hidden"===N.visibilityState&&ra()?kc():"visible"===N.visibilityState&&(Ob=(new Date).getTime())}function Ka(){!tb&&sb&&(tb=!0,T(F,"focus",ca),T(F,"blur",da),T(F,"visibilitychange",ja),fa++,H.addPlugin("HeartBeat"+fa,{unload:function(){tb&&ra()&&kc()}}))}function Ba(c){var h=(new Date).getTime();Pb=h;ub&&h<ub?(h=ub-h,setTimeout(c,h),P(h+50),ub+=
50):(!1===ub&&(ub=h+800),c())}function fb(c){if(!Qb)return c;var h,l="&uadata="+O(F.JSON.stringify(Qb));if(c instanceof Array)for(h=0;h<c.length;h++)c[h]+=l;else c+=l;return c}function gb(c){vb&&t(V.userAgentData)&&"function"===typeof V.userAgentData.getHighEntropyValues?(Qb={brands:V.userAgentData.brands,platform:V.userAgentData.platform},V.userAgentData.getHighEntropyValues("brands model platform platformVersion uaFullVersion fullVersionList".split(" ")).then(function(h){h.fullVersionList&&(delete h.brands,
delete h.uaFullVersion);Qb=h;c()},function(h){c()})):c()}function Ga(c,h,l){lc?(g("mtm_consent_removed")?Ma=!1:g("mtm_consent")&&(Ma=!0),Ma?(Rb=!0,!Cb&&c&&(mc&&Ma&&(c+="&consent=1"),c=fb(c),Ba(function(){Sb&&D(c,l,!0)?P(100):(C(c)?z(c,l):y(c,l),P(h))})),tb||Ka()):$a.push(c)):hb.push(c)}function Tb(c,h){var l=Cb?!1:c&&c.length;l&&(lc?Ma?(Rb=!0,Ba(function(){if(50>=c.length)var q=[c];else{q=0;var u=c.length,I=[];for(q;q<u;q+=50)I.push(c.slice(q,q+50));q=I}u=0;for(u;u<q.length;u++)I='{"requests":["?'+
fb(q[u]).join('","?')+'"],"send_image":0}',Sb&&D(I,null,!1)?P(100):z(I,null,!1);P(h)})):$a.push(c):hb.push(c))}function Ha(c){return Ub+c+"."+xa+"."+Kc}function ib(c,h,l){f(c,"",-1296E5,h,l)}function nc(){if(za)return"0";if(!t(F.showModalDialog)&&t(V.cookieEnabled))return V.cookieEnabled?"1":"0";var c=Ub+"testcookie";f(c,"1",void 0,na,oa,Na,Oa);var h="1"===g(c)?"1":"0";ib(c);return h}function oc(){Kc=pc((oa||Db)+(na||"/")).slice(0,4)}function qc(){gb(function(){var q;lc=!0;for(q=0;q<hb.length;q++){var u=
typeof hb[q];"string"===u?Ga(hb[q],la):"object"===u&&Tb(hb[q],la)}hb=[]});if(!vb)return{};if(t(Wa.res))return Wa;var c={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",fla:"application/x-shockwave-flash",java:"application/x-java-vm",ag:"application/x-silverlight"};if(!RegExp("MSIE").test(V.userAgent)){if(V.mimeTypes&&V.mimeTypes.length)for(l in c)if(Object.prototype.hasOwnProperty.call(c,l)){var h=V.mimeTypes[c[l]];Wa[l]=h&&h.enabledPlugin?
"1":"0"}!RegExp("Edge[ /](\\d+[\\.\\d]+)").test(V.userAgent)&&"unknown"!==typeof navigator.javaEnabled&&t(V.javaEnabled)&&V.javaEnabled()&&(Wa.java="1");!t(F.showModalDialog)&&t(V.cookieEnabled)?Wa.cookie=V.cookieEnabled?"1":"0":Wa.cookie=nc()}var l=parseInt(jb.width,10);h=parseInt(jb.height,10);Wa.res=parseInt(l,10)+"x"+parseInt(h,10);pageLoadTimeArray.res=Wa.res;return Wa}function rc(){var c=Ha("cvar");return(c=g(c))&&c.length&&(c=F.JSON.parse(c),A(c))?c:{}}function Lc(){var c=qc();return pc((V.userAgent||
"")+(V.platform||"")+F.JSON.stringify(c)).slice(0,6)}function nd(c){if(!Eb)return"";c=Ya(c,"pk_vid");if(!c)return"";c=String(c);var h=RegExp("^[a-zA-Z0-9]+$");if(32===c.length&&h.test(c)){a:{var l=c.substr(16,32);l=String(l);h=Lc();var q=h.length,u=l.substr(-1*q,q);if((l=parseInt(l.substr(0,l.length-q),10))&&u&&u===h&&(h=Math.floor((new Date).getTime()/1E3),0>=sc||h>=l&&h<=l+sc)){h=!0;break a}h=!1}if(h)return c.substr(0,16)}return""}function Mc(){wb||=nd(Fb);var c=Math.round((new Date).getTime()/
1E3),h=Ha("id");if(h=g(h))return c=h.split("."),c.unshift("0"),wb.length&&(c[1]=wb),c;wb.length?h=wb:"0"===nc()?h="":(h=qc(),h=pc((V.userAgent||"")+(V.platform||"")+F.JSON.stringify(h)+(new Date).getTime()+Math.random()).slice(0,16));return c=["1",h,c]}function tc(){var c=Mc();return{newVisitor:c[0],uuid:c[1],createTs:c[2]}}function Vb(c){if(xa){(new Date).getTime();t(c)||(c=tc());c=c.uuid+"."+c.createTs+".";var h=Ha("id");var l=(new Date).getTime();var q=tc().createTs;l=1E3*parseInt(q,10)+Nc-l;f(h,
c,l,na,oa,Na,Oa)}}function xb(){var c=g(Ha("ref"));if(c.length)try{if(c=F.JSON.parse(c),A(c))return c}catch(h){}return["","",0,""]}function Wb(){var c=za;za=!1;var h;for(h=0;h<uc.length;h++){var l=Ha(uc[h]);"mtm_consent_removed"!==l&&"mtm_consent"!==l&&0!==g(l)&&ib(l,na,oa)}za=c}function Oc(c){if(c&&A(c)){var h=[];for(l in c)Object.prototype.hasOwnProperty.call(c,l)&&h.push(l);var l={};h.sort();var q=h.length,u;for(u=0;u<q;u++)l[h[u]]=c[h[u]];return l}}function Pc(c){if(""!==Xb)return c+=Xb,Gb=!0,
c;if(!Ia)return c;var h="object"===typeof Ia.timing&&Ia.timing?Ia.timing:void 0;h||="function"===typeof Ia.getEntriesByType&&Ia.getEntriesByType("navigation")?Ia.getEntriesByType("navigation")[0]:void 0;if(!h)return c;var l="";if(h.connectEnd&&h.fetchStart){if(h.connectEnd<h.fetchStart)return c;pageLoadTimeArray.pf_net=Math.round(h.connectEnd-h.fetchStart);l+="&pf_net="+Math.round(h.connectEnd-h.fetchStart)}if(h.responseStart&&h.requestStart){if(h.responseStart<h.requestStart)return c;pageLoadTimeArray.pf_srv=
Math.round(h.responseStart-h.requestStart);l+="&pf_srv="+Math.round(h.responseStart-h.requestStart)}if(h.responseStart&&h.responseEnd){if(h.responseEnd<h.responseStart)return c;pageLoadTimeArray.pf_tfr=Math.round(h.responseEnd-h.responseStart);l+="&pf_tfr="+Math.round(h.responseEnd-h.responseStart)}if(t(h.domLoading)){if(h.domInteractive&&h.domLoading){if(h.domInteractive<h.domLoading)return c;pageLoadTimeArray.pf_dm1=Math.round(h.domInteractive-h.domLoading);l+="&pf_dm1="+Math.round(h.domInteractive-
h.domLoading)}}else if(h.domInteractive&&h.responseEnd){if(h.domInteractive<h.responseEnd)return c;pageLoadTimeArray.pf_dm1=Math.round(h.domInteractive-h.responseEnd);l+="&pf_dm1="+Math.round(h.domInteractive-h.responseEnd)}if(h.domComplete&&h.domInteractive){if(h.domComplete<h.domInteractive)return c;pageLoadTimeArray.pf_dm2=Math.round(h.domComplete-h.domInteractive);l+="&pf_dm2="+Math.round(h.domComplete-h.domInteractive)}if(h.loadEventEnd&&h.loadEventStart){if(h.loadEventEnd<h.loadEventStart)return c;
pageLoadTimeArray.pf_onl=Math.round(h.loadEventEnd-h.loadEventStart);l+="&pf_onl="+Math.round(h.loadEventEnd-h.loadEventStart);onLoadTime="&pf_onl="+Math.round(h.loadEventEnd-h.loadEventStart)}return c+l}function Qc(c){return"1"===Ya(c,"ignore_referrer")||"1"===Ya(c,"ignore_referer")}function Rc(){var c=Math.round((new Date).getTime()/1E3);var h=Ha("ses");var l=Ha("ref");var q=g(h);var u=xb(),I=yb||Fb,K={};var X=u[0];var W=u[1];h=u[2];var ba=u[3];if(!Qc(I)&&!q){if(!vc||!X.length){for(wa in Yb)if(Object.prototype.hasOwnProperty.call(Yb,
wa)&&(X=Ya(I,Yb[wa]),X.length))break;for(wa in Zb)if(Object.prototype.hasOwnProperty.call(Zb,wa)&&(W=Ya(I,Zb[wa]),W.length))break}var wa=ya(kb);q=ba.length?ya(ba):"";!wa.length||w(wa)||x(kb)||vc&&q.length&&!w(q)&&!x(ba)||(ba=kb);if(ba.length||X.length)h=c,u=[X,W,h,d(ba.slice(0,1024))],f(l,F.JSON.stringify(u),Sc,na,oa,Na,Oa)}X.length&&(K._rcn=O(X));W.length&&(K._rck=O(W));K._refts=h;String(ba).length&&(K._ref=O(d(ba.slice(0,1024))));return K}function Ca(c,h,l){function q(Z,Nb){Z=F.JSON.stringify(Z);
return 2<Z.length?"&"+Nb+"="+O(Z):""}var u,I=new Date,K=sa,X=Ha("cvar"),W=yb||Fb,ba=Qc(W);za&&Wb();if(Cb)return"";var wa=tc(),Fa=N.characterSet||N.charset;Fa&&"utf-8"!==Fa.toLowerCase()||(Fa=null);c+="&idsite="+heatmapSiteId+"&rec=1&r="+String(Math.random()).slice(2,8)+"&h="+I.getHours()+"&m="+I.getMinutes()+"&s="+I.getSeconds()+"&url="+O(d(W))+(!kb.length||x(kb)||ba?"":"&urlref="+O(d(kb)))+(B(Hb)?"&uid="+O(Hb):"")+"&_id="+wa.uuid+"&_idn="+wa.newVisitor+"&audit_key="+HeatAuditKey+(Fa?"&cs="+O(Fa):
"")+"&send_image=0";I=Rc();for(u in I)Object.prototype.hasOwnProperty.call(I,u)&&(c+="&"+u+"="+I[u]);I=qc();for(u in I)Object.prototype.hasOwnProperty.call(I,u)&&(c+="&"+u+"="+I[u]);I=[];if(h)for(u in h)Object.prototype.hasOwnProperty.call(h,u)&&/^dimension\d+$/.test(u)&&(W=u.replace("dimension",""),I.push(parseInt(W,10)),I.push(String(W)),c+="&"+u+"="+O(h[u]),delete h[u]);h&&L(h)&&(h=null);for(u in ab)Object.prototype.hasOwnProperty.call(ab,u)&&(c+="&"+u+"="+O(ab[u]));for(u in lb)Object.prototype.hasOwnProperty.call(lb,
u)&&-1===R(I,u)&&(c+="&dimension"+u+"="+O(lb[u]));h?c+="&data="+O(F.JSON.stringify(h)):mb&&(c+="&data="+O(F.JSON.stringify(mb)));h=Oc($b);I=Oc(ac);c+=q(h,"cvar");c+=q(I,"e_cvar");if(sa){c+=q(sa,"_cvar");for(u in K)Object.prototype.hasOwnProperty.call(K,u)&&(""===sa[u][0]||""===sa[u][1])&&delete sa[u];Tc&&f(X,F.JSON.stringify(sa),Ib,na,oa,Na,Oa)}wc&&xc&&!Gb&&(c=Pc(c),Gb=!0);bc&&(c+="&pv_id="+bc);Vb(wa);f(Ha("ses"),"1",Ib,na,oa,Na,Oa);c+=ha(l,{tracker:Jb,request:c});yc.length&&(c+="&"+yc);"function"===
typeof zc&&(c=zc(c));return c}function Uc(c,h,l,q,u,I){var K="idgoal=0",X=[],W,ba=String(c).length;ba&&(K+="&ec_id="+O(c));K+="&revenue="+h;String(l).length&&(K+="&ec_st="+l);String(q).length&&(K+="&ec_tx="+q);String(u).length&&(K+="&ec_sh="+u);String(I).length&&(K+="&ec_dt="+I);if(ia){for(W in ia)Object.prototype.hasOwnProperty.call(ia,W)&&(t(ia[W][1])||(ia[W][1]=""),t(ia[W][2])||(ia[W][2]=""),t(ia[W][3])&&0!==String(ia[W][3]).length||(ia[W][3]=0),t(ia[W][4])&&0!==String(ia[W][4]).length||(ia[W][4]=
1),X.push(ia[W]));K+="&ec_items="+O(F.JSON.stringify(X))}K=Ca(K,mb,"ecommerce");Ga(K,la);ba&&(ia={})}function Ac(c,h){var l="(^| )(piwik[_-]"+h+"|heatmap[_-]"+h;if(c)for(h=0;h<c.length;h++)l+="|"+c[h];return new RegExp(l+")( |$)")}function Vc(c){var h;for(h=c.parentNode;null!==h&&t(h)&&!E.isLinkElement(c);)c=h,h=c.parentNode;return c}function Wc(c){c=Vc(c);if(E.hasNodeAttribute(c,"href")&&t(c.href)){E.getAttributeValueFromNode(c,"href");var h=c.pathname||m(c.href),l=c.hostname||ya(c.href),q=l.toLowerCase();
l=c.href.replace(l,q);if(!RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto|tel):","i").test(l)){var u=c.className;h=r(q,h);c=E.hasNodeAttribute(c,"download");if(ma&&l&&0===String(l).indexOf(ma))u=0;else{q=Ac(Xc,"download");var I=Ac(Yc,"link"),K=new RegExp("\\.("+nb.join("|")+")([?&#]|$)","i");u=I.test(u)?"link":c||q.test(u)||K.test(l)?"download":h?0:"link"}if(u)return{type:u,href:l}}}}function Zc(c,h,l,q){if(c=aa.buildInteractionRequestParams(c,h,l,q))return Ca(c,null,"contentInteraction")}
function $c(c,h){if(!c||!h)return!1;var l=aa.findTargetNode(c);if(aa.shouldIgnoreInteraction(l))return!1;if(c=l=aa.findTargetNodeNoDefault(c))c=!(l&&h&&(l.contains?l.contains(h):l===h||l.compareDocumentPosition&&l.compareDocumentPosition(h)&16));return c?!1:!0}function od(c){return function(h){if(c){var l=aa.findParentContentNode(c),q;h&&(q=h.target||h.srcElement);q||=c;if($c(l,q)){if(!l)return!1;h=aa.findTargetNode(l);if(!h||aa.shouldIgnoreInteraction(h))return!1;h=Wc(h);return Bc&&h&&h.type?h.type:
Jb.trackContentInteractionNode(q,"click")}}}}function Cc(c){var h;if((h=aa.collectContent(c))&&h.length){var l;for(l=0;l<h.length;l++){var q;b:{var u,I=h[l];if(ob&&ob.length)for(u=0;u<ob.length;u++)if((q=ob[u])&&q.name===I.name&&q.piece===I.piece&&q.target===I.target){q=!0;break b}q=!1}q?(h.splice(l,1),l--):ob.push(h[l])}if(h&&h.length){if(c&&c.length)for(l=0;l<c.length;l++)(q=aa.findTargetNode(c[l]))&&!q.contentInteractionTrackingSetupDone&&(q.contentInteractionTrackingSetupDone=!0,T(q,"click",od(q)));
q=[];for(l=0;l<h.length;l++)(c=Ca(aa.buildImpressionRequestParams(h[l].name,h[l].piece,h[l].target),void 0,"contentImpressions"))&&q.push(c);h=q}else h=[]}else h=[];return h}function ad(c){if(!c||!c.length)return[];var h;for(h=0;h<c.length;h++)aa.isNodeVisible(c[h])||(c.splice(h,1),h--);return c&&c.length?Cc(c):[]}function bd(c,h,l,q,u,I){if(!B(c)||!B(h))return Q("Error while logging event: Parameters `category` and `action` must not be empty or filled with whitespaces"),!1;c="e_c="+O(c)+"&e_a="+
O(h)+(t(l)?"&e_n="+O(l):"")+(t(q)?"&e_v="+O(q):"")+"&ca=1";u=Ca(c,u,"event");Ga(u,la,I)}function cd(c,h,l,q,u){h=h+"="+O(d(c));a:{if(u){var I=aa.findParentContentNode(u);if(I&&$c(I,u)&&(u=aa.buildContentBlock(I))){!u.target&&c&&(u.target=c);c=aa.buildInteractionRequestParams("click",u.name,u.piece,u.target);break a}}c=void 0}c&&(h+="&"+c);l=Ca(h,l,"link");Ga(l,la,q)}function dd(c,h){return""!==c?c+h.charAt(0).toUpperCase()+h.slice(1):h}function ta(c){var h,l,q=["","webkit","ms","moz"];if(!ed)for(l=
0;l<q.length;l++){var u=q[l];if(Object.prototype.hasOwnProperty.call(N,dd(u,"hidden"))){"prerender"===N[dd(u,"visibilityState")]&&(h=!0);break}}h?T(N,u+"visibilitychange",function K(){N.removeEventListener(u+"visibilitychange",K,!1);c()}):c()}function fd(){var c=Jb.getVisitorId(),h=Math.floor((new Date).getTime()/1E3),l=Lc();return c+(String(h)+l)}function Dc(c){var h=Wc(c);if(h&&h.type)h.href=p(h.href),cd(h.href,h.type,void 0,null,c);else if(Eb){c=Vc(c);h=c;var l=E.getAttributeValueFromNode(h,"href");
l?(l=String(l),0!==l.indexOf("//")&&0!==l.indexOf("http://")&&0!==l.indexOf("https://")?h=!1:(l=h.pathname||m(h.href),h=(h.hostname||ya(h.href)).toLowerCase(),h=r(h,l)&&!k(Db,Qa(h))?!0:!1)):h=!1;if(h&&c&&E.hasNodeAttribute(c,"href")&&(l=E.getAttributeValueFromNode(c,"href"))&&(!ma||!l||0!==String(l).indexOf(ma))&&Jb.getVisitorId()){l=Ta(l,"pk_vid");h=fd();var q=String(l);h||="";var u=q.indexOf("#"),I=q.length;-1===u&&(u=I);l=q.substr(0,u);q=q.substr(u,I-u);-1===l.indexOf("?")?l+="?":Pa(l,"?")||(l+=
"&");l=l+O("pk_vid")+"="+O(h)+q;E.setAnyAttribute(c,"href",l)}}}function cc(c){return function(h){h=h||F.event;var l=h.target||h.srcElement;for(var q=l.nodeName,u=Ac(gd,"ignore");"A"!==q&&"AREA"!==q&&l&&l.parentNode;)l=l.parentNode,q=l.nodeName;l=!l||"A"!==q&&"AREA"!==q||u.test(l.className)?void 0:l;if(l){a:{q=h;u=q.which;var I=typeof q.button;u||"undefined"===I||(N.all&&!N.addEventListener?q.button&1?u=1:q.button&2?u=3:q.button&4&&(u=2):0===q.button||"0"===q.button?u=1:q.button&1?u=2:q.button&2&&
(u=3));switch(u){case 1:q="left";break a;case 2:q="middle";break a;case 3:q="right";break a}q=void 0}"click"===h.type?(h=!1,c&&"middle"===q&&(h=!0),l&&!h&&Dc(l)):"mousedown"===h.type?"middle"===q&&l?(dc=q,ec=l):dc=ec=null:"mouseup"===h.type?(q===dc&&l===ec&&Dc(l),dc=ec=null):"contextmenu"===h.type&&Dc(l)}}}function hd(c,h,l){"undefined"===typeof h&&(h=!0);T(c,"click",cc(h),l);h&&(T(c,"mouseup",cc(h),l),T(c,"mousedown",cc(h),l),T(c,"contextmenu",cc(h),l))}function pd(c,h,l){function q(){u=!0}if(Kb)return!0;
Kb=!0;var u=!1,I,K;ua(function(){function X(ba){setTimeout(function(){Kb&&(u=!1,l.trackVisibleContentImpressions(),X(ba))},ba)}function W(ba){setTimeout(function(){Kb&&(u&&(u=!1,l.trackVisibleContentImpressions()),W(ba))},ba)}if(c){I=["scroll","resize"];for(K=0;K<I.length;K++)N.addEventListener?N.addEventListener(I[K],q,!1):F.attachEvent("on"+I[K],q);W(100)}h&&0<h&&(h=parseInt(h,10),X(h))})}var Jb=this,Ec=db(N.domain,F.location.href,gc()),Db=Qa(Ec[0]),Fb=p(Ec[1]),kb=p(Ec[2]),id=!1,jc="GET",Jc="application/x-www-form-urlencoded; charset=UTF-8",
ma=e||"",Fc="",yc="",Xb="",xa=b||"",Hb="",wb="",yb,fc="",nb="7z aac apk arc arj asf asx avi azw3 bin csv deb dmg doc docx epub exe flv gif gz gzip hqx ibooks jar jpg jpeg js mobi mp2 mp3 mp4 mpg mpeg mov movie msi msp odb odf odg ods odt ogg ogv pdf phps png ppt pptx qt qtm ra ram rar rpm rtf sea sit tar tbz tbz2 bz bz2 tgz torrent txt wav wma wmv wpd xls xlsx xml z zip".split(" "),Va=[Db],gd=[],Bb=[".paypal.com"],ic=[],Xc=[],Yc=[],la=500,Sb=!0,sb,Hc,mb,Yb="pk_campaign mtm_campaign piwik_campaign heatmap_campaign utm_campaign utm_source utm_medium".split(" "),
Zb=["pk_kwd","mtm_kwd","piwik_kwd","heatmap_kwd","utm_term"],Ub="_pk_",sc=180,oa,na,Na=!1,Oa="Lax",za=!1,Cb,ed,vc,Nc=339552E5,Ib=18E5,Sc=15768E6,wc=!0,xc=!1,Gb=!1,Tc=!1,sa=!1,zc,$b={},ac={},lb={},ab={},ia={},Wa={},Qb={},hb=[],lc=!1,ob=[],Kb=!1,ub=!1,Bc=!1,Eb=!1,tb=!1;Za();var Ob=null,Pb=null,dc,ec,pc=hc,Kc,bc,jd=!1,kd=0,uc=["id","ses","cvar","ref"],mc=!1,Ma=null,$a=[],Gc=[],ld=bb++,Rb=!1,vb=!0;try{fc=N.title}catch(c){fc=""}Ma=!g("mtm_consent_removed");var kc=function(){var c=new Date;c=c.getTime();
return Pb?Pb+sb<=c?(Jb.ping(),!0):!1:!1};var pa={enabled:!0,requests:[],timeout:null,interval:2500,sendRequests:function(){var c=this.requests;this.requests=[];1===c.length?Ga(c[0],la):Tb(c,la)},canQueue:function(){return!J&&this.enabled},pushMultiple:function(c){if(this.canQueue()){var h;for(h=0;h<c.length;h++)this.push(c[h])}else Tb(c,la)},push:function(c){c&&(this.canQueue()?(pa.requests.push(c),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.timeout=setTimeout(function(){pa.timeout=
null;pa.sendRequests()},pa.interval),c="RequestQueue"+ld,Object.prototype.hasOwnProperty.call(va,c)||(va[c]={unload:function(){pa.timeout&&clearTimeout(pa.timeout);pa.sendRequests()}})):Ga(c,la))}};oc();this.hasConsent=function(){return Ma};this.getVisitorInfo=function(){g(Ha("id"))||Vb();return Mc()};this.getVisitorId=function(){return this.getVisitorInfo()[1]};this.getAttributionInfo=function(){return xb()};this.getAttributionCampaignName=function(){return xb()[0]};this.getAttributionCampaignKeyword=
function(){return xb()[1]};this.getAttributionReferrerTimestamp=function(){return xb()[2]};this.getAttributionReferrerUrl=function(){return xb()[3]};this.setTrackerUrl=function(c){ma=c};this.getTrackerUrl=function(){return ma};this.getHeatmapUrl=function(){return Ua(this.getTrackerUrl(),Fc)};this.getPiwikUrl=function(){return this.getHeatmapUrl()};this.addTracker=function(c,h){t(c)&&null!==c||(c=this.getTrackerUrl());c=new rb(c,h);ea.push(c);H.trigger("TrackerAdded",[this]);return c};this.getSiteId=
function(){return xa};this.setSiteId=function(c){xa=c};this.resetUserId=function(){Hb=""};this.setUserId=function(c){B(c)&&(Hb=c)};this.setVisitorId=function(c){var h=/[0-9A-Fa-f]{16}/g;G(c)&&h.test(c)?wb=c:Q("Invalid visitorId set"+c)};this.getUserId=function(){return Hb};this.setCustomData=function(c,h){A(c)?mb=c:(mb||={},mb[c]=h)};this.getCustomData=function(){return mb};this.setCustomRequestProcessing=function(c){zc=c};this.appendToTrackingUrl=function(c){yc=c};this.getRequest=function(c){return Ca(c)};
this.addPlugin=function(c,h){va[c]=h};this.setCustomDimension=function(c,h){c=parseInt(c,10);0<c&&(t(h)||(h=""),G(h)||(h=String(h)),lb[c]=h)};this.getCustomDimension=function(c){c=parseInt(c,10);if(0<c&&Object.prototype.hasOwnProperty.call(lb,c))return lb[c]};this.deleteCustomDimension=function(c){c=parseInt(c,10);0<c&&delete lb[c]};this.setCustomVariable=function(c,h,l,q){t(q)||(q="visit");t(h)&&(t(l)||(l=""),0<c&&(h=G(h)?h:String(h),l=G(l)?l:String(l),h=[h.slice(0,200),l.slice(0,200)],"visit"===
q||2===q?(!1===sa&&(sa=rc()),sa[c]=h):"page"===q||3===q?$b[c]=h:"event"===q&&(ac[c]=h)))};this.getCustomVariable=function(c,h){t(h)||(h="visit");if("page"===h||3===h)var l=$b[c];else if("event"===h)l=ac[c];else if("visit"===h||2===h)!1===sa&&(sa=rc()),l=sa[c];return!t(l)||l&&""===l[0]?!1:l};this.deleteCustomVariable=function(c,h){this.getCustomVariable(c,h)&&this.setCustomVariable(c,"","",h)};this.deleteCustomVariables=function(c){if("page"===c||3===c)$b={};else if("event"===c)ac={};else if("visit"===
c||2===c)sa={}};this.storeCustomVariablesInCookie=function(){Tc=!0};this.setLinkTrackingTimer=function(c){la=c};this.getLinkTrackingTimer=function(){return la};this.setDownloadExtensions=function(c){G(c)&&(c=c.split("|"));nb=c};this.addDownloadExtensions=function(c){var h;G(c)&&(c=c.split("|"));for(h=0;h<c.length;h++)nb.push(c[h])};this.removeDownloadExtensions=function(c){var h,l=[];G(c)&&(c=c.split("|"));for(h=0;h<nb.length;h++)-1===R(c,nb[h])&&l.push(nb[h]);nb=l};this.setDomains=function(c){Va=
G(c)?[c]:c;c=!1;var h=0;for(h;h<Va.length;h++){var l=String(Va[h]);if(k(Db,Qa(l))){c=!0;break}if((l=m(l))&&"/"!==l&&"/*"!==l){c=!0;break}}c||Va.push(Db)};this.setExcludedReferrers=function(c){Bb=G(c)?[c]:c};this.enableCrossDomainLinking=function(){Eb=!0};this.disableCrossDomainLinking=function(){Eb=!1};this.isCrossDomainLinkingEnabled=function(){return Eb};this.setCrossDomainLinkingTimeout=function(c){sc=c};this.getCrossDomainLinkingUrlParameter=function(){return O("pk_vid")+"="+O(fd())};this.setIgnoreClasses=
function(c){gd=G(c)?[c]:c};this.setRequestMethod=function(c){jc=c?String(c).toUpperCase():"GET";"GET"===jc&&this.disableAlwaysUseSendBeacon()};this.setRequestContentType=function(c){Jc=c||"application/x-www-form-urlencoded; charset=UTF-8"};this.setGenerationTimeMs=function(c){Q("setGenerationTimeMs is no longer supported since HeatmapTracking 4. The call will be ignored. The replacement is setPagePerformanceTiming.")};this.setPagePerformanceTiming=function(c,h,l,q,u,I){c={pf_net:c,pf_srv:h,pf_tfr:l,
pf_dm1:q,pf_dm2:u,pf_onl:I};try{h=c;l={};for(var K in h)h.hasOwnProperty(K)&&t(h[K])&&(l[K]=h[K]);K=c=l;c={};for(var X in K)if(K.hasOwnProperty(X))if(/^[0-9][0-9]*(\.[0-9]+)?$/.test(K[X]))c[X]=Math.round(K[X]);else throw Error('Parameter "'+X+'" provided value "'+K[X]+'" is not valid. Please provide a numeric value.');X=c;K="";for(var W in X)X.hasOwnProperty(W)&&(K+="&"+O(W)+"="+O(X[W]));Xb=K;""===Xb?Q("setPagePerformanceTiming() called without parameters. This function needs to be called with at least one performance parameter."):
(Gb=!1,xc=!0)}catch(ba){Q("setPagePerformanceTiming: "+ba.toString())}};this.setReferrerUrl=function(c){kb=c};this.setCustomUrl=function(c){var h=Fb;if(Ab(c))yb=c;else if("/"===c.slice(0,1))yb=Ab(h)+"://"+ya(h)+c;else{h=d(h);var l=h.indexOf("?");0<=l&&(h=h.slice(0,l));l=h.lastIndexOf("/");l!==h.length-1&&(h=h.slice(0,l+1));yb=h+c}};this.getCurrentUrl=function(){return yb||Fb};this.setDocumentTitle=function(c){fc=c};this.setPageViewId=function(c){bc=c;jd=!0};this.setAPIUrl=function(c){Fc=c};this.setDownloadClasses=
function(c){Xc=G(c)?[c]:c};this.setLinkClasses=function(c){Yc=G(c)?[c]:c};this.setCampaignNameKey=function(c){Yb=G(c)?[c]:c};this.setCampaignKeywordKey=function(c){Zb=G(c)?[c]:c};this.discardHashTag=function(c){Hc=c};this.setCookieNamePrefix=function(c){Ub=c;sa&&=rc()};this.setCookieDomain=function(c){var h=Qa(c),l;if(l=!za)l=Ub+"testcookie_domain",f(l,"testvalue",1E4,null,h,Na,Oa),"testvalue"===g(l)?(ib(l,null,h),l=!0):l=!1,l=!l;l?Q("Can't write cookie on domain "+c):(oa=h,oc())};this.setExcludedQueryParams=
function(c){ic=G(c)?[c]:c};this.getCookieDomain=function(){return oa};this.hasCookies=function(){return"1"===nc()};this.setSessionCookie=function(c,h,l){if(!c)throw Error("Missing cookie name");t(l)||(l=Ib);uc.push(c);f(Ha(c),h,l,na,oa,Na,Oa)};this.getCookie=function(c){c=g(Ha(c));return 0===c?null:c};this.setCookiePath=function(c){na=c;oc()};this.getCookiePath=function(c){return na};this.setVisitorCookieTimeout=function(c){Nc=1E3*c};this.setSessionCookieTimeout=function(c){Ib=1E3*c};this.getSessionCookieTimeout=
function(){return Ib};this.setReferralCookieTimeout=function(c){Sc=1E3*c};this.setConversionAttributionFirstReferrer=function(c){vc=c};this.setSecureCookie=function(c){c&&"https:"!==location.protocol?Q("Error in setSecureCookie: You cannot use `Secure` on http."):Na=c};this.setCookieSameSite=function(c){c=String(c);c=c.charAt(0).toUpperCase()+c.toLowerCase().slice(1);"None"!==c&&"Lax"!==c&&"Strict"!==c?Q("Ignored value for sameSite. Please use either Lax, None, or Strict."):("None"===c&&("https:"===
location.protocol?this.setSecureCookie(!0):(Q("sameSite=None cannot be used on http, reverted to sameSite=Lax."),c="Lax")),Oa=c)};this.disableCookies=function(){za=!0;xa&&Wb()};this.areCookiesEnabled=function(){return!za};this.setCookieConsentGiven=function(){if(za&&!Cb&&(za=!1,vb=!0,xa&&Rb)){Vb();var c=Ca("ping=1",null,"ping");Ga(c,la)}};this.requireCookieConsent=function(){if(this.getRememberedCookieConsent())return!1;this.disableCookies();return!0};this.getRememberedCookieConsent=function(){return g("mtm_cookie_consent")};
this.forgetCookieConsentGiven=function(){ib("mtm_cookie_consent",na,oa);this.disableCookies()};this.rememberCookieConsentGiven=function(c){c=c?36E5*c:94608E7;this.setCookieConsentGiven();var h=(new Date).getTime();f("mtm_cookie_consent",h,c,na,oa,Na,Oa)};this.deleteCookies=function(){Wb()};this.setDoNotTrack=function(c){var h=V.doNotTrack||V.msDoNotTrack;(Cb=c&&("yes"===h||"1"===h))&&this.disableCookies()};this.alwaysUseSendBeacon=function(){Sb=!0};this.disableAlwaysUseSendBeacon=function(){Sb=!1};
this.addListener=function(c,h){hd(c,h,!1)};this.enableLinkTracking=function(c){Bc||(Bc=!0,qa(function(){hd(N.body,c,!0)}))};this.enableJSErrorTracking=function(){if(!id){id=!0;var c=F.onerror;F.onerror=function(h,l,q,u,I){ta(function(){var K=l+":"+q;u&&(K+=":"+u);-1===R(Gc,"JavaScript Errors"+K+h)&&(Gc.push("JavaScript Errors"+K+h),bd("JavaScript Errors",K,h))});return c?c(h,l,q,u,I):!1}}};this.disablePerformanceTracking=function(){wc=!1};this.enableHeartBeatTimer=function(c){c=Math.max(c||15,5);
sb=1E3*c;null!==Pb&&Ka()};this.disableHeartBeatTimer=function(){if(sb||tb)F.removeEventListener?(F.removeEventListener("focus",ca),F.removeEventListener("blur",da),F.removeEventListener("visibilitychange",ja)):F.detachEvent&&(F.detachEvent("onfocus",ca),F.detachEvent("onblur",da),F.detachEvent("visibilitychange",ja));sb=null;tb=!1};this.killFrame=function(){F.location!==F.top.location&&(F.top.location=F.location)};this.redirectFile=function(c){"file:"===F.location.protocol&&(F.location=c)};this.setCountPreRendered=
function(c){ed=c};this.trackGoal=function(c,h,l,q){ta(function(){var u=Ca("idgoal="+c+(h?"&revenue="+h:""),l,"goal");Ga(u,la,q)})};this.trackLink=function(c,h,l,q){ta(function(){cd(c,h,l,q)})};this.getNumTrackedPageViews=function(){return kd};this.trackPageView=function(c,h,l){ob=[];$a=[];Gc=[];ka(xa)?ta(function(){qb(ma,Fc,xa)}):ta(function(){kd++;if(!jd){if("undefined"!==hrs_pvidp)var q=hrs_pvidp;else{q="";var u;for(u=0;6>u;u++)q+="abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*
Math.random()))}bc=q}q=(q=c||fc)&&q.text?q.text:q;G(q)||(u=N.getElementsByTagName("title"))&&t(u[0])&&(q=u[0].text);q=Ca("action_name="+O(q),h,"log");wc&&!Gb&&(q=Pc(q));Ga(q,la,l)})};this.disableBrowserFeatureDetection=function(){vb=!1};this.enableBrowserFeatureDetection=function(){vb=!0};this.trackAllContentImpressions=function(){ka(xa)||ta(function(){qa(function(){var c=aa.findContentNodes();c=Cc(c);pa.pushMultiple(c)})})};this.trackVisibleContentImpressions=function(c,h){ka(xa)||(t(c)||(c=!0),
t(h)||(h=750),pd(c,h,this),ta(function(){ua(function(){var l=aa.findContentNodes();l=ad(l);pa.pushMultiple(l)})}))};this.trackContentImpression=function(c,h,l){ka(xa)||(c=Ea(c),h=Ea(h),l=Ea(l),c&&(h=h||"Unknown",ta(function(){var q=aa.buildImpressionRequestParams(c,h,l);q=Ca(q,null,"contentImpression");pa.push(q)})))};this.trackContentImpressionsWithinNode=function(c){!ka(xa)&&c&&ta(function(){Kb?ua(function(){var h=aa.findContentNodesWithinNode(c);h=ad(h);pa.pushMultiple(h)}):qa(function(){var h=
aa.findContentNodesWithinNode(c);h=Cc(h);pa.pushMultiple(h)})})};this.trackContentInteraction=function(c,h,l,q){ka(xa)||(c=Ea(c),h=Ea(h),l=Ea(l),q=Ea(q),c&&h&&(l=l||"Unknown",ta(function(){var u=Zc(c,h,l,q);u&&pa.push(u)})))};this.trackContentInteractionNode=function(c,h){if(!ka(xa)&&c){var l=null;ta(function(){var q=h;if(c){var u=aa.findParentContentNode(c);(u=aa.buildContentBlock(u))?(q||="Unknown",l=Zc(q,u.name,u.piece,u.target)):l=void 0}else l=void 0;l&&pa.push(l)});return l}};this.logAllContentBlocksOnPage=
function(){var c=aa.findContentNodes();c=aa.collectContent(c);"undefined"!==typeof console&&console&&console.log&&_heatDEBUG&&console.log(c)};this.trackEvent=function(c,h,l,q,u,I){ta(function(){bd(c,h,l,q,u,I)})};this.trackSiteSearch=function(c,h,l,q){ob=[];ta(function(){var u=Ca("search="+O(c)+(h?"&search_cat="+O(h):"")+(t(l)?"&search_count="+l:""),q,"sitesearch");Ga(u,la)})};this.setEcommerceView=function(c,h,l,q){ab={};B(l)&&(l=String(l));t(l)&&null!==l&&!1!==l&&l.length?l instanceof Array&&(l=
F.JSON.stringify(l)):l="";ab._pkc=l;t(q)&&null!==q&&!1!==q&&String(q).length&&(ab._pkp=q);if(B(c)||B(h))B(c)&&(ab._pks=c),B(h)||(h=""),ab._pkn=h};this.getEcommerceItems=function(){return JSON.parse(JSON.stringify(ia))};this.addEcommerceItem=function(c,h,l,q,u){B(c)&&(ia[c]=[String(c),h,l,q,u])};this.removeEcommerceItem=function(c){B(c)&&(c=String(c),delete ia[c])};this.clearEcommerceCart=function(){ia={}};this.trackEcommerceOrder=function(c,h,l,q,u,I){String(c).length&&t(h)&&Uc(c,h,l,q,u,I)};this.trackEcommerceCartUpdate=
function(c){t(c)&&Uc("",c,"","","","")};this.trackRequest=function(c,h,l,q){ta(function(){var u=Ca(c,h,q);Ga(u,la,l)})};this.ping=function(){this.trackRequest("ping=1",null,null,"ping")};this.disableQueueRequest=function(){pa.enabled=!1};this.setRequestQueueInterval=function(c){if(1E3>c)throw Error("Request queue interval needs to be at least 1000ms");pa.interval=c};this.queueRequest=function(c){ta(function(){var h=Ca(c);pa.push(h)})};this.isConsentRequired=function(){return mc};this.getRememberedConsent=
function(){var c=g("mtm_consent");return g("mtm_consent_removed")?(c&&ib("mtm_consent",na,oa),null):c&&0!==c?c:null};this.hasRememberedConsent=function(){return!!this.getRememberedConsent()};this.requireConsent=function(){mc=!0;(Ma=this.hasRememberedConsent())||(za=!0);pb++;va["CoreConsent"+pb]={unload:function(){Ma||Wb()}}};this.setConsentGiven=function(c){vb=Ma=!0;ib("mtm_consent_removed",na,oa);var h;for(h=0;h<$a.length;h++){var l=typeof $a[h];"string"===l?Ga($a[h],la):"object"===l&&Tb($a[h],la)}$a=
[];t(c)&&!c||this.setCookieConsentGiven()};this.rememberConsentGiven=function(c){c=c?36E5*c:94608E7;this.setConsentGiven(!0);var h=(new Date).getTime();f("mtm_consent",h,c,na,oa,Na,Oa)};this.forgetConsentGiven=function(c){c=c?36E5*c:94608E7;ib("mtm_consent",na,oa);f("mtm_consent_removed",(new Date).getTime(),c,na,oa,Na,Oa);this.forgetCookieConsentGiven();this.requireConsent()};this.isUserOptedOut=function(){return!Ma};this.optUserOut=this.forgetConsentGiven;this.forgetUserOptOut=function(){this.setConsentGiven(!1)};
ua(function(){setTimeout(function(){xc=!0},0)});H.trigger("TrackerSetup",[this]);H.addPlugin("TrackerVisitorIdCookie"+ld,{unload:function(){Rb||(Vb(),Rc())}})}function Xa(){return{push:Y}}function zb(e,b){e=new rb(e,b);ea.push(e);b=_heatmap_paq;var g=S,f={},d,k;for(d=0;d<g.length;d++){var m=g[d];f[m]=1;for(k=0;k<b.length;k++)if(b[k]&&b[k][0]){var n=b[k][0];m===n&&(Y(b[k]),delete b[k],1<f[n]&&"addTracker"!==n&&"enableLinkTracking"!==n&&Q("The method "+n+' is registered more than once in "_heatmap_paq" variable.'),
f[n]++)}}_heatmap_paq=b;for(Ra=0;Ra<_heatmap_paq.length;Ra++)_heatmap_paq[Ra]&&Y(_heatmap_paq[Ra]);_heatmap_paq=new Xa;H.trigger("TrackerAdded",[e]);return e}var Aa,va={},Da={},N=document,V=navigator,jb=screen,F=window,Ia=F.performance||F.mozPerformance||F.msPerformance||F.webkitPerformance,O=F.encodeURIComponent,Ja=F.decodeURIComponent,ea=[],Ra,Sa=[],pb=0,fa=0,bb=0,J=!1,E={htmlCollectionToArray:function(e){var b=[],g;if(!e||!e.length)return b;for(g=0;g<e.length;g++)b.push(e[g]);return b},find:function(e){if(!document.querySelectorAll||
!e)return[];e=document.querySelectorAll(e);return this.htmlCollectionToArray(e)},findMultiple:function(e){if(!e||!e.length)return[];var b,g=[];for(b=0;b<e.length;b++){var f=this.find(e[b]);g=g.concat(f)}return g=this.makeNodesUnique(g)},findNodesByTagName:function(e,b){if(!e||!b||!e.getElementsByTagName)return[];e=e.getElementsByTagName(b);return this.htmlCollectionToArray(e)},makeNodesUnique:function(e){var b=[].concat(e);e.sort(function(m,n){if(m===n)return 0;m=R(b,m);n=R(b,n);return m===n?0:m>
n?-1:1});if(1>=e.length)return e;var g=0,f=0,d=[],k;for(k=e[g++];k;)k===e[g]&&(f=d.push(g)),k=e[g++]||null;for(;f--;)e.splice(d[f],1);return e},getAttributeValueFromNode:function(e,b){if(this.hasNodeAttribute(e,b)){if(e&&e.getAttribute)return e.getAttribute(b);if(e&&e.attributes&&"undefined"!==typeof e.attributes[b]){if(e.attributes[b].value)return e.attributes[b].value;if(e.attributes[b].nodeValue)return e.attributes[b].nodeValue;var g=e.attributes;if(g){for(e=0;e<g.length;e++)if(g[e].nodeName===
b)return g[e].nodeValue;return null}}}},hasNodeAttributeWithValue:function(e,b){return!!this.getAttributeValueFromNode(e,b)},hasNodeAttribute:function(e,b){return e&&e.hasAttribute?e.hasAttribute(b):e&&e.attributes?"undefined"!==typeof e.attributes[b]:!1},hasNodeCssClass:function(e,b){return e&&b&&e.className&&(e="string"===typeof e.className?e.className.split(" "):[],-1!==R(e,b))?!0:!1},findNodesHavingAttribute:function(e,b,g){g||=[];if(!e||!b)return g;e=U(e);if(!e||!e.length)return g;var f;for(f=
0;f<e.length;f++){var d=e[f];this.hasNodeAttribute(d,b)&&g.push(d);g=this.findNodesHavingAttribute(d,b,g)}return g},findFirstNodeHavingAttribute:function(e,b){if(e&&b){if(this.hasNodeAttribute(e,b))return e;if((e=this.findNodesHavingAttribute(e,b))&&e.length)return e[0]}},findFirstNodeHavingAttributeWithValue:function(e,b){if(e&&b){if(this.hasNodeAttributeWithValue(e,b))return e;if((e=this.findNodesHavingAttribute(e,b))&&e.length){var g;for(g=0;g<e.length;g++)if(this.getAttributeValueFromNode(e[g],
b))return e[g]}}},findNodesHavingCssClass:function(e,b,g){g||=[];if(!e||!b)return g;if(e.getElementsByClassName)return b=e.getElementsByClassName(b),this.htmlCollectionToArray(b);e=U(e);if(!e||!e.length)return[];var f;for(f=0;f<e.length;f++){var d=e[f];this.hasNodeCssClass(d,b)&&g.push(d);g=this.findNodesHavingCssClass(d,b,g)}return g},findFirstNodeHavingClass:function(e,b){if(e&&b){if(this.hasNodeCssClass(e,b))return e;if((e=this.findNodesHavingCssClass(e,b))&&e.length)return e[0]}},isLinkElement:function(e){if(!e)return!1;
e=String(e.nodeName).toLowerCase();return-1!==R(["a","area"],e)},setAnyAttribute:function(e,b,g){e&&b&&(e.setAttribute?e.setAttribute(b,g):e[b]=g)}},aa={CONTENT_ATTR:"data-track-content",CONTENT_CLASS:"heatmapTrackContent",LEGACY_CONTENT_CLASS:"piwikTrackContent",CONTENT_NAME_ATTR:"data-content-name",CONTENT_PIECE_ATTR:"data-content-piece",CONTENT_PIECE_CLASS:"heatmapContentPiece",LEGACY_CONTENT_PIECE_CLASS:"piwikContentPiece",CONTENT_TARGET_ATTR:"data-content-target",CONTENT_TARGET_CLASS:"heatmapContentTarget",
LEGACY_CONTENT_TARGET_CLASS:"piwikContentTarget",CONTENT_IGNOREINTERACTION_ATTR:"data-content-ignoreinteraction",CONTENT_IGNOREINTERACTION_CLASS:"heatmapContentIgnoreInteraction",LEGACY_CONTENT_IGNOREINTERACTION_CLASS:"piwikContentIgnoreInteraction",location:void 0,findContentNodes:function(){return E.findMultiple(["."+this.CONTENT_CLASS,"."+this.LEGACY_CONTENT_CLASS,"["+this.CONTENT_ATTR+"]"])},findContentNodesWithinNode:function(e){if(!e)return[];var b=E.findNodesHavingCssClass(e,this.CONTENT_CLASS);
b=E.findNodesHavingCssClass(e,this.LEGACY_CONTENT_CLASS,b);var g=E.findNodesHavingAttribute(e,this.CONTENT_ATTR);if(g&&g.length){var f;for(f=0;f<g.length;f++)b.push(g[f])}E.hasNodeAttribute(e,this.CONTENT_ATTR)?b.push(e):E.hasNodeCssClass(e,this.CONTENT_CLASS)?b.push(e):E.hasNodeCssClass(e,this.LEGACY_CONTENT_CLASS)&&b.push(e);return b=E.makeNodesUnique(b)},findParentContentNode:function(e){if(e)for(var b=0;e&&e!==N&&e.parentNode;){if(E.hasNodeAttribute(e,this.CONTENT_ATTR)||E.hasNodeCssClass(e,this.CONTENT_CLASS)||
E.hasNodeCssClass(e,this.LEGACY_CONTENT_CLASS))return e;e=e.parentNode;if(1E3<b)break;b++}},findPieceNode:function(e){var b;(b=E.findFirstNodeHavingAttribute(e,this.CONTENT_PIECE_ATTR))||(b=E.findFirstNodeHavingClass(e,this.CONTENT_PIECE_CLASS));b||=E.findFirstNodeHavingClass(e,this.LEGACY_CONTENT_PIECE_CLASS);return b?b:e},findTargetNodeNoDefault:function(e){if(e){var b=E.findFirstNodeHavingAttributeWithValue(e,this.CONTENT_TARGET_ATTR);if(b||(b=E.findFirstNodeHavingAttribute(e,this.CONTENT_TARGET_ATTR))||
(b=E.findFirstNodeHavingClass(e,this.CONTENT_TARGET_CLASS))||(b=E.findFirstNodeHavingClass(e,this.LEGACY_CONTENT_TARGET_CLASS)))return b}},findTargetNode:function(e){var b=this.findTargetNodeNoDefault(e);return b?b:e},findContentName:function(e){if(e){var b=E.findFirstNodeHavingAttributeWithValue(e,this.CONTENT_NAME_ATTR);if(b)return E.getAttributeValueFromNode(b,this.CONTENT_NAME_ATTR);if(b=this.findContentPiece(e))return this.removeDomainIfIsInLink(b);if(E.hasNodeAttributeWithValue(e,"title"))return E.getAttributeValueFromNode(e,
"title");b=this.findPieceNode(e);if(E.hasNodeAttributeWithValue(b,"title"))return E.getAttributeValueFromNode(b,"title");e=this.findTargetNode(e);if(E.hasNodeAttributeWithValue(e,"title"))return E.getAttributeValueFromNode(e,"title")}},findContentPiece:function(e){if(e){var b=E.findFirstNodeHavingAttributeWithValue(e,this.CONTENT_PIECE_ATTR);if(b)return E.getAttributeValueFromNode(b,this.CONTENT_PIECE_ATTR);e=this.findPieceNode(e);if(e=this.findMediaUrlInNode(e))return this.toAbsoluteUrl(e)}},findContentTarget:function(e){if(e){var b=
this.findTargetNode(e);if(E.hasNodeAttributeWithValue(b,this.CONTENT_TARGET_ATTR))return E.getAttributeValueFromNode(b,this.CONTENT_TARGET_ATTR);if(E.hasNodeAttributeWithValue(b,"href"))return e=E.getAttributeValueFromNode(b,"href"),this.toAbsoluteUrl(e);e=this.findPieceNode(e);if(E.hasNodeAttributeWithValue(e,"href"))return e=E.getAttributeValueFromNode(e,"href"),this.toAbsoluteUrl(e)}},isSameDomain:function(e){if(!e||!e.indexOf)return!1;if(0===e.indexOf(this.getLocation().origin))return!0;e=e.indexOf(this.getLocation().host);
return 8>=e&&0<=e?!0:!1},removeDomainIfIsInLink:function(e){e&&e.search&&-1!==e.search(RegExp("^https?://[^/]+"))&&this.isSameDomain(e)&&((e=e.replace(RegExp("^.*//[^/]+"),""))||(e="/"));return e},findMediaUrlInNode:function(e){if(e){var b=e.nodeName.toLowerCase();if(-1!==R(["img","embed","video","audio"],b)&&E.findFirstNodeHavingAttributeWithValue(e,"src"))return e=E.findFirstNodeHavingAttributeWithValue(e,"src"),E.getAttributeValueFromNode(e,"src");if("object"===b&&E.hasNodeAttributeWithValue(e,
"data"))return E.getAttributeValueFromNode(e,"data");if("object"===b){if((b=E.findNodesByTagName(e,"param"))&&b.length){var g;for(g=0;g<b.length;g++)if("movie"===E.getAttributeValueFromNode(b[g],"name")&&E.hasNodeAttributeWithValue(b[g],"value"))return E.getAttributeValueFromNode(b[g],"value")}if((e=E.findNodesByTagName(e,"embed"))&&e.length)return this.findMediaUrlInNode(e[0])}}},trim:function(e){return Ea(e)},isOrWasNodeInViewport:function(e){if(!e||!e.getBoundingClientRect||1!==e.nodeType)return!0;
var b=e.getBoundingClientRect(),g=N.documentElement||{},f=0>b.top;f&&e.offsetTop&&(f=0<e.offsetTop+b.height);e=g.clientWidth;F.innerWidth&&e>F.innerWidth&&(e=F.innerWidth);g=g.clientHeight;F.innerHeight&&g>F.innerHeight&&(g=F.innerHeight);return(0<b.bottom||f)&&0<b.right&&b.left<e&&(b.top<g||f)},isNodeVisible:function(e){var b=eb(e);e=this.isOrWasNodeInViewport(e);return b&&e},buildInteractionRequestParams:function(e,b,g,f){var d="";e&&(d+="c_i="+O(e));b&&(d&&(d+="&"),d+="c_n="+O(b));g&&(d&&(d+="&"),
d+="c_p="+O(g));f&&(d&&(d+="&"),d+="c_t="+O(f));d&&(d+="&ca=1");return d},buildImpressionRequestParams:function(e,b,g){e="c_n="+O(e)+"&c_p="+O(b);g&&(e+="&c_t="+O(g));e&&(e+="&ca=1");return e},buildContentBlock:function(e){if(e){var b=this.findContentName(e),g=this.findContentPiece(e);e=this.findContentTarget(e);b=this.trim(b);g=this.trim(g);e=this.trim(e);return{name:b||"Unknown",piece:g||"Unknown",target:e||""}}},collectContent:function(e){if(!e||!e.length)return[];var b=[],g;for(g=0;g<e.length;g++){var f=
this.buildContentBlock(e[g]);t(f)&&b.push(f)}return b},setLocation:function(e){this.location=e},getLocation:function(){var e=this.location||F.location;e.origin||(e.origin=e.protocol+"//"+e.hostname+(e.port?":"+e.port:""));return e},toAbsoluteUrl:function(e){return e&&String(e)===e||""===e?""===e?this.getLocation().href:-1!==e.search(/^\/\//)?this.getLocation().protocol+e:-1!==e.search(/:\/\//)?e:0===e.indexOf("#")||0===e.indexOf("?")?this.getLocation().origin+this.getLocation().pathname+e:0===e.search("^[a-zA-Z]{2,11}:")?
e:-1!==e.search(/^\//)?this.getLocation().origin+e:this.getLocation().origin+this.getLocation().pathname.match(RegExp("(.*/)"))[0]+e:e},isUrlToCurrentDomain:function(e){e=this.toAbsoluteUrl(e);if(!e)return!1;var b=this.getLocation().origin;return b===e?!0:0===String(e).indexOf(b)?":"===String(e).substr(b.length,1)?!1:!0:!1},setHrefAttribute:function(e,b){e&&b&&E.setAnyAttribute(e,"href",b)},shouldIgnoreInteraction:function(e){return E.hasNodeAttribute(e,this.CONTENT_IGNOREINTERACTION_ATTR)||E.hasNodeCssClass(e,
this.CONTENT_IGNOREINTERACTION_CLASS)||E.hasNodeCssClass(e,this.LEGACY_CONTENT_IGNOREINTERACTION_CLASS)?!0:!1}},S="addTracker forgetCookieConsentGiven requireCookieConsent disableBrowserFeatureDetection disableCookies setTrackerUrl setAPIUrl enableCrossDomainLinking setCrossDomainLinkingTimeout setSessionCookieTimeout setVisitorCookieTimeout setCookieNamePrefix setCookieSameSite setSecureCookie setCookiePath setCookieDomain setDomains setUserId setVisitorId setSiteId alwaysUseSendBeacon disableAlwaysUseSendBeacon enableLinkTracking setCookieConsentGiven requireConsent setConsentGiven disablePerformanceTracking setPagePerformanceTiming setExcludedQueryParams setExcludedReferrers".split(" ");
T(F,"beforeunload",function(e){J=!0;ha("unload");e=new Date;e=e.getTimeAlias();3E3<Aa-e&&(Aa=e+3E3);if(Aa){do e=new Date;while(e.getTimeAlias()<Aa)}},!1);T(F,"visibilitychange",function(){},!1);T(F,"online",function(){t(V.serviceWorker)&&V.serviceWorker.ready.then(function(e){if(e&&e.sync)return e.sync.register("heatmapSync")},function(){})},!1);T(F,"message",function(e){function b(n){var r=N.getElementsByTagName("iframe");for(g=0;g<r.length;g++){var w=r[g],x=ya(w.src);w.contentWindow&&t(w.contentWindow.postMessage)&&
x===f&&(x=JSON.stringify(n),w.contentWindow.postMessage(x,e.origin))}}if(e&&e.origin){var g,f=ya(e.origin),d=H.getAsyncTrackers();for(g=0;g<d.length;g++){var k=ya(d[g].getHeatmapUrl());if(k===f){var m=d[g];break}}if(m){k=null;try{k=JSON.parse(e.data)}catch(n){return}if(k)if(t(k.maq_initial_value))b({maq_opted_in:k.maq_initial_value&&m.hasConsent(),maq_url:m.getHeatmapUrl(),maq_optout_by_default:m.isConsentRequired()});else if(t(k.maq_opted_in)){d=H.getAsyncTrackers();for(g=0;g<d.length;g++)m=d[g],
k.maq_opted_in?m.rememberConsentGiven():m.forgetConsentGiven();b({maq_confirm_opted_in:m.hasConsent(),maq_url:m.getHeatmapUrl(),maq_optout_by_default:m.isConsentRequired()})}}}},!1);Date.prototype.getTimeAlias=Date.prototype.getTime;var H={initialized:!1,JSON:F.JSON,DOM:{addEventListener:function(e,b,g,f){"undefined"===typeof f&&(f=!1);T(e,b,g,f)},onLoad:ua,onReady:qa,isNodeVisible:eb,isOrWasNodeVisible:aa.isNodeVisible},on:function(e,b){Da[e]||(Da[e]=[]);Da[e].push(b)},off:function(e,b){if(Da[e]){var g=
0;for(g;g<Da[e].length;g++)Da[e][g]===b&&Da[e].splice(g,1)}},trigger:function(e,b,g){if(Da[e]){var f=0;for(f;f<Da[e].length;f++)Da[e][f].apply(g||F,b)}},addPlugin:function(e,b){va[e]=b},getTracker:function(e,b){t(b)||(b=this.getAsyncTracker().getSiteId());t(e)||(e=this.getAsyncTracker().getTrackerUrl());return new rb(e,b)},getAsyncTrackers:function(){return ea},addTracker:function(e,b){return ea.length?ea[0].addTracker(e,b):zb(e,b)},getAsyncTracker:function(e,b){if(ea&&ea.length&&ea[0])var g=ea[0];
else return zb(e,b);if(!b&&!e)return g;t(b)&&null!==b||!g||(b=g.getSiteId());t(e)&&null!==e||!g||(e=g.getTrackerUrl());var f=0;for(f;f<ea.length;f++)if((g=ea[f])&&String(g.getSiteId())===String(b)&&g.getTrackerUrl()===e)return g},retryMissedPluginCalls:function(){var e=Sa;Sa=[];var b=0;for(b;b<e.length;b++)Y(e[b])}};"function"===typeof define&&define.amd&&(define("piwik",[],function(){return H}),define("heatmap",[],function(){return H}));return H}());
(function(){function p(){if("object"!==typeof JSON||"function"!==typeof Array.prototype.map||"function"!==typeof Array.prototype.filter||"function"!==typeof Array.prototype.indexOf||"function"!==typeof Element.prototype.getBoundingClientRect||-1!==["cc.bingj.com"].indexOf(U.domain)||-1!==String(U.domain).indexOf(".googleusercontent.com")||/alexa|baidu|bing|bot|crawler|curl|crawling|duckduckgo|facebookexternalhit|feedburner|googlebot|google web preview|linkdex|nagios|postrank|pingdom|robot|slurp|spider|yahoo!|yandex|wget/i.test(navigator.userAgent))return!0;
var b=String(U.referrer);return b&&0<=b.indexOf("module=Overlay&action=startOverlaySession")?!0:!1}function t(){Ua&&"object"===typeof console&&("function"===typeof console.debug?console.debug.apply(console,arguments):"function"===typeof console.log&&_heatDEBUG&&console.log.apply(console,arguments))}function A(b){return location.href&&-1<location.href.indexOf(b)}function G(b){return A("pk_hsr_forcesample=1")||A("pk_hsr_capturescreen=1")?!0:100<=b?!0:0>=b?!1:100*Math.random()<b}function B(b){"undefined"===
typeof b.HeatmapSessionRecording&&(b.HeatmapSessionRecording={myId:E.generateUniqueId(),hasReceivedConfig:!1,hasRequestedConfig:!1,hasTrackedData:!1,hasSentStopTrackingEvent:!1,enabled:!0,hsrIdsToGetDOM:[],disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},isEnabled:function(){return ka&&this.enabled},numSentTrackingRequests:0,Heatmap:{data:[],hsrids:[],configs:[],addConfig:function(g){"object"===typeof g&&g.id&&(g.id=parseInt(g.id,10),this.configs.push(g),g.sample_rate="undefined"===
typeof g.sample_rate?100:Math.min(parseFloat(g.sample_rate),100),g.id&&G(g.sample_rate)&&N(g)&&(this.addHsrId(g.id),g.getdom||A("pk_hsr_capturescreen=1")||-1<urlpath.indexOf("pk_trigger_client=1")||null!==localStorage.getItem("pk_trigger_client")))&&(b.HeatmapSessionRecording.hsrIdsToGetDOM.push(g.id),"complete"===document.readyState||"interactive"===document.readyState?heatmapLoadScripts(["heatscreenreadiness.js"],function(){initializeReadinessDetector()}):heatmapLoadScripts(["heatscreenreadiness.js"],
function(){document.addEventListener("DOMContentLoaded",initializeReadinessDetector)}))},addHsrId:function(g){this.hsrids.push(g);b.HeatmapSessionRecording.hasTrackedData&&S.recordData(1,{ty:7,id:g})}},Both:{data:[]},Session:{data:[],hsrids:[],configs:[],addConfig:function(g){if("object"===typeof g&&g.id){HeatmapOnly=!1;g.id=parseInt(g.id,10);g.sample_rate="undefined"===typeof g.sample_rate?100:Math.min(parseFloat(g.sample_rate),100);g.conditionsMet=!1;this.configs.push(d);myconfigs.push(g);parseInt(b.getSiteId(),
10);var f=bb.get(b,g.id);g.min_time=0;if(1===f&&location.href.includes("pk_hsr_forcesample")&&!A("pk_hsr_forcesample=0"))g.sample_rate=100,g.activity=!1;else if(0===f||!group_recording_id.get_session){bb.set(b,g.id,0);HeatmapOnly=!0;return}this.checkConditionsMet();if(g.min_time){var d=this;HeatmapTracker.DOM.onReady(function(){var k=1E3*g.min_time-E.getTimeSincePageReady()+120;0<=k?setTimeout(function(){d.checkConditionsMet()},k):d.checkConditionsMet()})}}},checkConditionsMet:function(){for(var g,
f=0;f<myconfigs.length;f++)if((g=myconfigs[f])&&!g.conditionsMet){var d=!0;g.min_time&&g.min_time>=E.roundTimeToSeconds(E.getTimeSincePageReady())&&(d=!1);g.activity&&!F&&(F=fa.getDocumentHeight()<=fa.getWindowSize().height);if(g.activity&&(!jb||!F)||A("pk_hsr_capturescreen=1")||navigator.userAgent.toLowerCase().includes("heatmap"))d=!1;d&&(g.conditionsMet=!0,N(g)&&("undefined"!==typeof g.keystrokes&&g.keystrokes&&"0"!==g.keystrokes||(V=!1),this.addHsrId(g.id),setInterval(updateGroupRecordingId,1E4)))}},
addHsrId:function(g){this.hsrids.push(g);b.HeatmapSessionRecording.hasTrackedData&&S.recordData(2,{ty:7,id:g});parseInt(b.getSiteId(),10);bb.set(b,g,1)}},addConfig:function(g){this.hasReceivedConfig=this.hasRequestedConfig=!0;if("undefined"!==typeof g&&g){"object"===typeof g.heatmap&&this.Heatmap.addConfig(g.heatmap);var f;if(window._heatmapDEBUG&&window.heatmapBreakPoints["add-config-fn"].is_active)debugger;if(g.heatmaps&&E.isArray(g.heatmaps)&&g.heatmaps.length){for(f=0;f<g.heatmaps.length;f++)this.Heatmap.addConfig(g.heatmaps[f]);
S.getPiwikTrackers().forEach(function(d){S.sendQueuedData(d)})}if(pb){window.heatmapRateLimiting&&!window.heatmapRateLimiting.recording.tracking&&(g.sessions=[]);if(g.sessions&&E.isArray(g.sessions)&&g.sessions.length)for(f=0;f<g.sessions.length;f++)this.Session.addConfig(g.sessions[f]);"object"===typeof g.sessions&&this.Session.addConfig(g.sessions)}e.checkAllConfigsReceived();if(window._heatmapDEBUG&&window.heatmapBreakPoints["add-config-fn"].is_active)debugger}else e.checkAllConfigsReceived()}})}
function L(){"object"===typeof window&&"function"===typeof R.piwikHeatmapSessionRecordingAsyncInit&&R.piwikHeatmapSessionRecordingAsyncInit();"object"===typeof window&&"function"===typeof R.heatmapSessionRecordingAsyncInit&&R.heatmapSessionRecordingAsyncInit();let b=Sa;Sa=[];Ra=!0;for(var g=0;g<b.length;g++)S.recordData(b[g].type,b[g].data);HeatmapTracker.DOM.onLoad(function(){"undefined"!==typeof window._heatmap_pre_clicks&&0<window._heatmap_pre_clicks.length&&(b=window._heatmap_pre_clicks.concat(b));
window._heatmap_pre_clicks=[];rb=!0;setTimeout(function(){if(ka){var f=S.getPiwikTrackers();f&&f.length&&HeatmapTracker.HeatmapSessionRecording.enable()}},100)})}function Q(){if("object"!==typeof window||"object"!==typeof R.HeatmapTracker||"object"!==typeof R.HeatmapTracker.HeatmapSessionRecording)if("object"!==typeof window||R.HeatmapTracker)ea=HeatmapTracker.JSON,HeatmapTracker.HeatmapSessionRecording={utils:E,element:J,storage:bb,dom:fa,tracking:S,recording:H,RECORD_TYPE_BOTH:0,RECORD_TYPE_HEATMAP:1,
RECORD_TYPE_SESSION:2,configuration:e,getIdView:function(){return Xa},getIdloghsr:function(){return zb},disableRecordMovements:function(){qb=!1},enableRecordMovements:function(){qb=!0},isRecordingMovements:function(){return qb},disableAutoDetectNewPageView:function(){Ia=!1},enableAutoDetectNewPageView:function(){Ia=!0},isAutoDetectingNewPageViews:function(){return Ia},matchTrackerUrl:function(){return!0},setTrigger:function(b){if("function"===typeof b)N=b;else throw Error("trigger needs to be a method");
},setNewPageView:function(b){if(!p()){t("new pageview");var g=this.isEnabled();g&&this.disable();Xa="undefined"!==typeof hrs_vidp?hrs_vidp:E.generateUniqueId();zb="undefined"!==typeof generatedIdloghsr?generatedIdloghsr:heatmapGenerateUniqueId(preHeatmapSiteId,"_idl");eb=(new Date).getTime();Sa=[];F=jb=!1;this._resetTrackers();(g||Ja)&&this.enable(b)}},_resetTrackers:function(){S.getPiwikTrackers().forEach(function(b){var g=!0;"undefined"!==typeof b.HeatmapSessionRecording&&(g=b.HeatmapSessionRecording.enabled,
delete b.HeatmapSessionRecording);B(b);g||b.HeatmapSessionRecording.disable()})},_setDisabled:function(){ka=Ja=!1},disable:function(){p()||(S.getPiwikTrackers().forEach(function(b){S.sendQueuedData(b,!1)}),this._setDisabled(),H.stopRecording(),H.stopRecordingMutations(),S.stopSendingData())},enable:function(b){if(!p()){ka=!0;Ja=!1;"undefined"===typeof b||!0===b?e.fetch():"object"===typeof b?S.getPiwikTrackers().forEach(function(g){g.HeatmapSessionRecording.addConfig(b)}):t("manual tracker config required");
H.startRecording();try{window.requestIdleCallback(()=>{window.contentEngagement&&H.startContentEngagement();H.startRecordingMutations();S.startSendingData()})}catch(g){window.contentEngagement&&H.startContentEngagement(),H.startRecordingMutations(),S.startSendingData()}}},isEnabled:function(){return ka},setMaxCaptureTime:function(b){Aa=1E3*parseInt(b,10);18E5<Aa&&(Aa=18E5)},setMaxTextInputLength:function(b){va=b},disableCaptureKeystrokes:function(){V=!1},enableCaptureKeystrokes:function(){V=!0},setHeatmapTrackers:function(b){this.setPiwikTrackers(b)},
setPiwikTrackers:function(b){null===b?Za=null:(E.isArray(b)||(b=[b]),Za=b,Za.forEach(B),Ra&&(Ja?this.enable():ka&&e.fetch()))},enableDebugMode:function(){Ua=!0}},HeatmapTracker.DOM.onReady(function(){eb="undefined"===typeof window.pre_start_time?(new Date).getTime():window.pre_start_time}),HeatmapTracker.addPlugin("HeatmapSessionRecording",{log:function(b){Ia&&b.tracker&&b.tracker.getNumTrackedPageViews&&1<b.tracker.getNumTrackedPageViews()&&setTimeout(function(){HeatmapTracker.HeatmapSessionRecording.setNewPageView(!0)},
10);return""},unload:function(){if(!p()){var b=S.getPiwikTrackers();S.stopSendingData();CALLED_UNLOAD=!0;b.forEach(function(g){S.sendQueuedData(g,!0)})}}}),R.HeatmapTracker.initialized?(HeatmapTracker.getAsyncTrackers().forEach(B),HeatmapTracker.on("TrackerSetup",B),HeatmapTracker.retryMissedPluginCalls(),L(),e.fetch(),HeatmapTracker.on("TrackerAdded",function(){Ja?HeatmapTracker.HeatmapSessionRecording.enable():e.fetch()})):(HeatmapTracker.on("TrackerSetup",B),HeatmapTracker.on("HeatmapInitialized",
function(){L();(ka||Ja)&&e.fetch();HeatmapTracker.on("TrackerAdded",function(){ka?e.fetch():Ja&&HeatmapTracker.HeatmapSessionRecording.enable()})}))}var Y=["button","submit","reset"],T={cssPath:function(b,g){if(1!==b.nodeType)return"";for(var f=[],d=b;d;){var k=T._cssPathStep(d,!!g,d===b);if(!k)break;f.push(k);if(k.optimized)break;d=d.parentNode}f.reverse();return f.join(" > ")},_cssPathStep:function(b,g,f){function d(da){return(da=da.getAttribute("class"))?da.split(/\s+/g).filter(ja=>ja&&!/[:\[\]/!.]|(\d{1,2}\s?[a-f\d]{7,}(-[a-f\d]{4}){3}-[a-f\d]{12})|(\d{5,})/.test(ja)).map(function(ja){return"$"+
ja}):[]}function k(da){if(/^-?[a-zA-Z_][a-zA-Z0-9_\-]*$/.test(da))return da;var ja=/^(?:[0-9]|-[0-9-]?)/.test(da),Ka=da.length-1;return da.replace(/./g,function(Ba,fb){var gb;(gb=ja&&0===fb)||(gb=/[a-zA-Z0-9_\-]/.test(Ba)?!0:160<=Ba.charCodeAt(0),gb=!gb);gb&&(fb=fb===Ka,Ba=Ba.charCodeAt(0).toString(16),1===Ba.length&&(Ba="0"+Ba),Ba="\\"+Ba+(fb?"":" "));return Ba})}function m(da){var ja={},Ka;for(Ka=0;Ka<da.length;Ka++)ja[da[Ka]]=!0;return ja}if(1!==b.nodeType)return null;var n=b.getAttribute("id");
if(g){if(isValidId(n))return new T.DOMNodePathStep("#"+n,!0);g=b.nodeName.toLowerCase();if("body"===g||"head"===g||"html"===g)return new T.DOMNodePathStep(b.nodeName.toLowerCase(),!0)}g=b.nodeName.toLowerCase();if(isValidId(n))return new T.DOMNodePathStep(g.toLowerCase()+("#"+n),!0);var r=b.parentNode;if(!r||9===r.nodeType)return new T.DOMNodePathStep(g.toLowerCase(),!0);n=d(b);var w=!1,x=!1,y=-1;if((r=r.children)&&r.length)for(var C=0;(-1===y||!x)&&C<r.length;++C){var D=r[C];if(D===b)y=C;else if(!x&&
D.nodeName.toLowerCase()===g.toLowerCase()){w=!0;var z=m(n),P=n.length;if(0===P)x=!0;else{D=d(D);for(var ca=0;ca<D.length;++ca){var ra=D[ca];if(z.hasOwnProperty(ra)&&(delete z[ra],P--,!P)){x=!0;break}}}}}r=g.toLowerCase();f&&"input"===g.toLowerCase()&&b.getAttribute("type")&&!b.getAttribute("id")&&!b.getAttribute("class")&&(r+='[type="'+b.getAttribute("type")+'"]');if(x)r+=":nth-child("+(y+1)+")";else if(w)for(b=0;b<n.length;b++)r+="."+k(n[b].substr(1));return new T.DOMNodePathStep(r,!1)},DOMNodePathStep:function(b,
g){this.value=b;this.optimized=g||!1}};T.DOMNodePathStep.prototype={toString:function(){return this.value}};var ua=function(b,g){function f(){this.constructor=b}for(var d in g)g.hasOwnProperty(d)&&(b[d]=g[d]);f.prototype=g.prototype;b.prototype=new f},qa;"undefined"!==typeof WebKitMutationObserver?qa=WebKitMutationObserver:"undefined"!==typeof MutationObserver&&(qa=MutationObserver);if("undefined"!==typeof qa&&qa){var ha=function(){function f(){this.nodes=[];this.values=[]}f.prototype.isIndex=function(d){return+d===
d>>>0};f.prototype.nodeId=function(d){var k=d[f.ID_PROP];k||=d[f.ID_PROP]=f.nextId_++;return k};f.prototype.set=function(d,k){var m=this.nodeId(d);this.nodes[m]=d;this.values[m]=k};f.prototype.get=function(d){d=this.nodeId(d);return this.values[d]};f.prototype.has=function(d){return this.nodeId(d)in this.nodes};f.prototype["delete"]=function(d){d=this.nodeId(d);delete this.nodes[d];this.values[d]=void 0};f.prototype.keys=function(){var d=[],k;for(k in this.nodes)this.isIndex(k)&&d.push(this.nodes[k]);
return d};f.ID_PROP="__mutation_summary_node_map_id__";f.nextId_=1;return f}(),M;(function(f){f[f.STAYED_OUT=0]="STAYED_OUT";f[f.ENTERED=1]="ENTERED";f[f.STAYED_IN=2]="STAYED_IN";f[f.REPARENTED=3]="REPARENTED";f[f.REORDERED=4]="REORDERED";f[f.EXITED=5]="EXITED"})(M||={});var gc=function(){function f(d,k,m,n,r,w,x,y){void 0===k&&(k=!1);void 0===m&&(m=!1);void 0===n&&(n=!1);void 0===r&&(r=null);void 0===w&&(w=!1);void 0===x&&(x=null);void 0===y&&(y=null);this.node=d;this.childList=k;this.attributes=
m;this.characterData=n;this.oldParentNode=r;this.added=w;this.attributeOldValues=x;this.characterDataOldValue=y;this.isCaseInsensitive=1===this.node.nodeType&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}f.prototype.getAttributeOldValue=function(d){if(this.attributeOldValues)return this.isCaseInsensitive&&(d=d.toLowerCase()),this.attributeOldValues[d]};f.prototype.getAttributeNamesMutated=function(){var d=[];if(!this.attributeOldValues)return d;for(var k in this.attributeOldValues)d.push(k);
return d};f.prototype.attributeMutated=function(d,k){this.attributes=!0;this.attributeOldValues=this.attributeOldValues||{};d in this.attributeOldValues||(this.attributeOldValues[d]=k)};f.prototype.characterDataMutated=function(d){this.characterData||(this.characterData=!0,this.characterDataOldValue=d)};f.prototype.removedFromParent=function(d){this.childList=!0;this.added||this.oldParentNode?this.added=!1:this.oldParentNode=d};f.prototype.insertedIntoParent=function(){this.added=this.childList=!0};
f.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode};return f}(),Ab=function(){return function(){this.added=new ha;this.removed=new ha;this.maybeMoved=new ha;this.oldPrevious=new ha;this.moved=void 0}}(),ya=function(f){function d(k,m){f.call(this);this.rootNode=k;this.wasReachableCache=this.reachableCache=void 0;this.anyCharacterDataChanged=this.anyAttributesChanged=this.anyParentsChanged=!1;for(k=
0;k<m.length;k++){var n=m[k];switch(n.type){case "childList":this.anyParentsChanged=!0;for(var r=0;r<n.removedNodes.length;r++){var w=n.removedNodes[r];this.getChange(w).removedFromParent(n.target)}for(r=0;r<n.addedNodes.length;r++)w=n.addedNodes[r],this.getChange(w).insertedIntoParent();break;case "attributes":this.anyAttributesChanged=!0;r=this.getChange(n.target);r.attributeMutated(n.attributeName,n.oldValue);break;case "characterData":this.anyCharacterDataChanged=!0,r=this.getChange(n.target),
r.characterDataMutated(n.oldValue)}}}ua(d,f);d.prototype.getChange=function(k){var m=this.get(k);m||(m=new gc(k),this.set(k,m));return m};d.prototype.getOldParent=function(k){var m=this.get(k);return m?m.getOldParent():k.parentNode};d.prototype.getIsReachable=function(k){if(k===this.rootNode)return!0;if(!k)return!1;this.reachableCache=this.reachableCache||new ha;var m=this.reachableCache.get(k);void 0===m&&(m=this.getIsReachable(k.parentNode),this.reachableCache.set(k,m));return m};d.prototype.getWasReachable=
function(k){if(k===this.rootNode)return!0;if(!k)return!1;this.wasReachableCache=this.wasReachableCache||new ha;var m=this.wasReachableCache.get(k);void 0===m&&(m=this.getWasReachable(this.getOldParent(k)),this.wasReachableCache.set(k,m));return m};d.prototype.reachabilityChange=function(k){return this.getIsReachable(k)?this.getWasReachable(k)?M.STAYED_IN:M.ENTERED:this.getWasReachable(k)?M.EXITED:M.STAYED_OUT};return d}(ha),Lb=function(){function f(d,k,m,n,r){this.rootNode=d;this.mutations=k;this.selectors=
m;this.calcReordered=n;this.calcOldPreviousSibling=r;this.treeChanges=new ya(d,k);this.entered=[];this.exited=[];this.stayedIn=new ha;this.visited=new ha;this.matchCache=this.characterDataOnly=this.childListChangeMap=void 0;this.processMutations()}f.prototype.processMutations=function(){if(this.treeChanges.anyParentsChanged||this.treeChanges.anyAttributesChanged)for(var d=this.treeChanges.keys(),k=0;k<d.length;k++)this.visitNode(d[k],void 0)};f.prototype.visitNode=function(d,k){if(!this.visited.has(d)){this.visited.set(d,
!0);var m=this.treeChanges.get(d);if(m&&m.childList||void 0==k)k=this.treeChanges.reachabilityChange(d);if(k!==M.STAYED_OUT){this.matchabilityChange(d);if(k===M.ENTERED)this.entered.push(d);else if(k===M.EXITED)this.exited.push(d),this.ensureHasOldPreviousSiblingIfNeeded(d);else if(k===M.STAYED_IN){var n=M.STAYED_IN;m&&m.childList&&(m.oldParentNode!==d.parentNode?(n=M.REPARENTED,this.ensureHasOldPreviousSiblingIfNeeded(d)):this.calcReordered&&this.wasReordered(d)&&(n=M.REORDERED));this.stayedIn.set(d,
n)}if(k!==M.STAYED_IN)for(d=d.firstChild;d;d=d.nextSibling)this.visitNode(d,k)}}};f.prototype.ensureHasOldPreviousSiblingIfNeeded=function(d){if(this.calcOldPreviousSibling){this.processChildlistChanges();var k=d.parentNode,m=this.treeChanges.get(d);m&&m.oldParentNode&&(k=m.oldParentNode);m=this.childListChangeMap.get(k);m||(m=new Ab,this.childListChangeMap.set(k,m));m.oldPrevious.has(d)||m.oldPrevious.set(d,d.previousSibling)}};f.prototype.getChanged=function(d,k,m){this.selectors=k;this.characterDataOnly=
m;for(k=0;k<this.entered.length;k++){m=this.entered[k];var n=this.matchabilityChange(m);n!==M.ENTERED&&n!==M.STAYED_IN||d.added.push(m)}var r=this.stayedIn.keys();for(k=0;k<r.length;k++)m=r[k],n=this.matchabilityChange(m),n===M.ENTERED?d.added.push(m):n===M.EXITED?d.removed.push(m):n===M.STAYED_IN&&(d.reparented||d.reordered)&&(n=this.stayedIn.get(m),d.reparented&&n===M.REPARENTED?d.reparented.push(m):d.reordered&&n===M.REORDERED&&d.reordered.push(m));for(k=0;k<this.exited.length;k++)m=this.exited[k],
n=this.matchabilityChange(m),n!==M.EXITED&&n!==M.STAYED_IN||d.removed.push(m)};f.prototype.getOldParentNode=function(d){var k=this.treeChanges.get(d);if(k&&k.childList)return k.oldParentNode?k.oldParentNode:null;k=this.treeChanges.reachabilityChange(d);if(k===M.STAYED_OUT||k===M.ENTERED)throw Error("getOldParentNode requested on invalid node.");return d.parentNode};f.prototype.getOldPreviousSibling=function(d){var k=d.parentNode,m=this.treeChanges.get(d);m&&m.oldParentNode&&(k=m.oldParentNode);k=
this.childListChangeMap.get(k);if(!k)throw Error("getOldPreviousSibling requested on invalid node.");return k.oldPrevious.get(d)};f.prototype.getOldAttribute=function(d,k){d=this.treeChanges.get(d);if(!d||!d.attributes)throw Error("getOldAttribute requested on invalid node.");k=d.getAttributeOldValue(k);if(void 0===k)throw Error("getOldAttribute requested for unchanged attribute name.");return k};f.prototype.attributeChangedNodes=function(d){if(!this.treeChanges.anyAttributesChanged)return{};if(d){var k=
{};var m={};for(var n=0;n<d.length;n++){var r=d[n];k[r]=!0;m[r.toLowerCase()]=r}}d={};var w=this.treeChanges.keys();for(n=0;n<w.length;n++){r=w[n];var x=this.treeChanges.get(r);if(x.attributes&&M.STAYED_IN===this.treeChanges.reachabilityChange(r)&&M.STAYED_IN===this.matchabilityChange(r))for(var y=r,C=x.getAttributeNamesMutated(),D=0;D<C.length;D++)r=C[D],(!k||k[r]||x.isCaseInsensitive&&m[r])&&x.getAttributeOldValue(r)!==y.getAttribute(r)&&(m&&x.isCaseInsensitive&&(r=m[r]),d[r]=d[r]||[],d[r].push(y))}return d};
f.prototype.getOldCharacterData=function(d){d=this.treeChanges.get(d);if(!d||!d.characterData)throw Error("getOldCharacterData requested on invalid node.");return d.characterDataOldValue};f.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var d=this.treeChanges.keys(),k=[],m=0;m<d.length;m++){var n=d[m];if(M.STAYED_IN===this.treeChanges.reachabilityChange(n)){var r=this.treeChanges.get(n);r.characterData&&n.textContent!=r.characterDataOldValue&&
k.push(n)}}return k};f.prototype.computeMatchabilityChange=function(d,k){this.matchCache||(this.matchCache=[]);this.matchCache[d.uid]||(this.matchCache[d.uid]=new ha);var m=this.matchCache[d.uid],n=m.get(k);void 0===n&&(n=d.matchabilityChange(k,this.treeChanges.get(k)),m.set(k,n));return n};f.prototype.matchabilityChange=function(d){var k=this;if(this.characterDataOnly)switch(d.nodeType){case 8:case 3:return M.STAYED_IN;default:return M.STAYED_OUT}if(!this.selectors)return M.STAYED_IN;if(1!==d.nodeType)return M.STAYED_OUT;
for(var m=this.selectors.map(function(w){return k.computeMatchabilityChange(w,d)}),n=M.STAYED_OUT,r=0;n!==M.STAYED_IN&&r<m.length;){switch(m[r]){case M.STAYED_IN:n=M.STAYED_IN;break;case M.ENTERED:n=n===M.EXITED?M.STAYED_IN:M.ENTERED;break;case M.EXITED:n=n===M.ENTERED?M.STAYED_IN:M.EXITED}r++}return n};f.prototype.getChildlistChange=function(d){var k=this.childListChangeMap.get(d);k||(k=new Ab,this.childListChangeMap.set(d,k));return k};f.prototype.processChildlistChanges=function(){if(!this.childListChangeMap){this.childListChangeMap=
new ha;for(var d=0;d<this.mutations.length;d++){var k=this.mutations[d];if("childList"==k.type){function x(y,C){!y||m.oldPrevious.has(y)||m.added.has(y)||m.maybeMoved.has(y)||C&&(m.added.has(C)||m.maybeMoved.has(C))||m.oldPrevious.set(y,C)}if(this.treeChanges.reachabilityChange(k.target)===M.STAYED_IN||this.calcOldPreviousSibling){for(var m=this.getChildlistChange(k.target),n=k.previousSibling,r=0;r<k.removedNodes.length;r++){var w=k.removedNodes[r];x(w,n);if(m.added.has(w))m.added["delete"](w);else m.removed.set(w,
!0),m.maybeMoved["delete"](w);n=w}x(k.nextSibling,n);for(r=0;r<k.addedNodes.length;r++)w=k.addedNodes[r],m.removed.has(w)?(m.removed["delete"](w),m.maybeMoved.set(w,!0)):m.added.set(w,!0)}}}}};f.prototype.wasReordered=function(d){function k(D){if(!D||!w.maybeMoved.has(D))return!1;var z=w.moved.get(D);if(void 0!==z)return z;if(x.has(D))z=!0;else{x.set(D,!0);if(C.has(D))z=C.get(D);else{for(z=D.previousSibling;z&&(w.added.has(z)||k(z));)z=z.previousSibling;C.set(D,z)}z=z!==m(D)}x.has(D)?(x["delete"](D),
w.moved.set(D,z)):z=w.moved.get(D);return z}function m(D){var z=y.get(D);if(void 0!==z)return z;for(z=w.oldPrevious.get(D);z&&(w.removed.has(z)||k(z));)z=m(z);void 0===z&&(z=D.previousSibling);y.set(D,z);return z}if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var n=d.parentNode,r=this.treeChanges.get(d);r&&r.oldParentNode&&(n=r.oldParentNode);var w=this.childListChangeMap.get(n);if(!w)return!1;if(w.moved)return w.moved.get(d);w.moved=new ha;var x=new ha,y=new ha,C=
new ha;w.maybeMoved.keys().forEach(k);return w.moved.get(d)};return f}(),Pa=function(){function f(d,k){var m=this;this.projection=d;this.added=[];this.removed=[];this.reparented=k.all||k.element||k.characterData?[]:void 0;this.reordered=k.all?[]:void 0;d.getChanged(this,k.elementFilter,k.characterData);if(k.all||k.attribute||k.attributeList){var n=d.attributeChangedNodes(k.attribute?[k.attribute]:k.attributeList);k.attribute?this.valueChanged=n[k.attribute]||[]:(this.attributeChanged=n,k.attributeList&&
k.attributeList.forEach(function(r){m.attributeChanged.hasOwnProperty(r)||(m.attributeChanged[r]=[])}))}if(k.all||k.characterData)n=d.getCharacterDataChanged(),k.characterData?this.valueChanged=n:this.characterDataChanged=n;this.reordered&&(this.getOldPreviousSibling=d.getOldPreviousSibling.bind(d))}f.prototype.getOldParentNode=function(d){return this.projection.getOldParentNode(d)};f.prototype.getOldAttribute=function(d,k){return this.projection.getOldAttribute(d,k)};f.prototype.getOldCharacterData=
function(d){return this.projection.getOldCharacterData(d)};f.prototype.getOldPreviousSibling=function(d){return this.projection.getOldPreviousSibling(d)};return f}(),cb=/[a-zA-Z_]+/,Ta=/[a-zA-Z0-9_\-]+/,Ya=function(){function f(){}f.prototype.matches=function(d){if(null===d)return!1;if(void 0===this.attrValue)return!0;if(!this.contains)return this.attrValue==d;d=d.split(" ");for(var k=0;k<d.length;k++)if(this.attrValue===d[k])return!0;return!1};f.prototype.toString=function(){return"class"===this.attrName&&
this.contains?"."+this.attrValue:"id"!==this.attrName||this.contains?this.contains?"["+this.attrName+'~="'+(this.attrValue.replace(/"/,'\\"')+'"]'):"attrValue"in this?"["+this.attrName+'="'+(this.attrValue.replace(/"/,'\\"')+'"]'):"["+this.attrName+"]":"#"+this.attrValue};return f}(),Ea=function(){function f(){this.uid=f.nextUid++;this.qualifiers=[]}Object.defineProperty(f.prototype,"caseInsensitiveTagName",{get:function(){return this.tagName.toUpperCase()},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,
"selectorString",{get:function(){return this.tagName+this.qualifiers.join("")},enumerable:!0,configurable:!0});f.prototype.isMatching=function(d){return d[f.matchesSelector](this.selectorString)};f.prototype.wasMatching=function(d,k,m){if(!k||!k.attributes)return m;var n=k.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if("*"!==n&&n!==d.tagName)return!1;n=[];for(var r=!1,w=0;w<this.qualifiers.length;w++){var x=this.qualifiers[w],y=k.getAttributeOldValue(x.attrName);n.push(y);r=r||void 0!==
y}if(!r)return m;for(w=0;w<this.qualifiers.length;w++)if(x=this.qualifiers[w],y=n[w],void 0===y&&(y=d.getAttribute(x.attrName)),!x.matches(y))return!1;return!0};f.prototype.matchabilityChange=function(d,k){var m=this.isMatching(d);return m?this.wasMatching(d,k,m)?M.STAYED_IN:M.ENTERED:this.wasMatching(d,k,m)?M.EXITED:M.STAYED_OUT};f.parseSelectors=function(d){function k(){r&&(w&&(r.qualifiers.push(w),w=void 0),n.push(r));r=new f}function m(){w&&r.qualifiers.push(w);w=new Ya}for(var n=[],r,w,x=/\s/,
y,C=1,D=0;D<d.length;){var z=d[D++];switch(C){case 1:if(z.match(cb)){k();r.tagName=z;C=2;break}if("*"==z){k();r.tagName="*";C=3;break}if("."==z){k();m();r.tagName="*";w.attrName="class";w.contains=!0;C=4;break}if("#"==z){k();m();r.tagName="*";w.attrName="id";C=4;break}if("["==z){k();m();r.tagName="*";w.attrName="";C=6;break}if(z.match(x))break;throw Error("Invalid or unsupported selector syntax.");case 2:if(z.match(Ta)){r.tagName+=z;break}if("."==z){m();w.attrName="class";w.contains=!0;C=4;break}if("#"==
z){m();w.attrName="id";C=4;break}if("["==z){m();w.attrName="";C=6;break}if(z.match(x)){C=14;break}if(","==z){C=1;break}throw Error("Invalid or unsupported selector syntax.");case 3:if("."==z){m();w.attrName="class";w.contains=!0;C=4;break}if("#"==z){m();w.attrName="id";C=4;break}if("["==z){m();w.attrName="";C=6;break}if(z.match(x)){C=14;break}if(","==z){C=1;break}throw Error("Invalid or unsupported selector syntax.");case 4:if(z.match(cb)){w.attrValue=z;C=5;break}throw Error("Invalid or unsupported selector syntax.");
case 5:if(z.match(Ta)){w.attrValue+=z;break}if("."==z){m();w.attrName="class";w.contains=!0;C=4;break}if("#"==z){m();w.attrName="id";C=4;break}if("["==z){m();C=6;break}if(z.match(x)){C=14;break}if(","==z){C=1;break}throw Error("Invalid or unsupported selector syntax.");case 6:if(z.match(cb)){w.attrName=z;C=7;break}if(z.match(x))break;throw Error("Invalid or unsupported selector syntax.");case 7:if(z.match(Ta)){w.attrName+=z;break}if(z.match(x)){C=8;break}if("~"==z){w.contains=!0;C=9;break}if("="==
z){w.attrValue="";C=11;break}if("]"==z){C=3;break}throw Error("Invalid or unsupported selector syntax.");case 8:if("~"==z){w.contains=!0;C=9;break}if("="==z){w.attrValue="";C=11;break}if("]"==z){C=3;break}if(z.match(x))break;throw Error("Invalid or unsupported selector syntax.");case 9:if("="==z){w.attrValue="";C=11;break}throw Error("Invalid or unsupported selector syntax.");case 10:if("]"==z){C=3;break}if(z.match(x))break;throw Error("Invalid or unsupported selector syntax.");case 11:if(z.match(x))break;
if('"'==z||"'"==z){y=z;C=13;break}w.attrValue+=z;C=12;break;case 12:if(z.match(x)){C=10;break}if("]"==z){C=3;break}if("'"==z||'"'==z)throw Error("Invalid or unsupported selector syntax.");w.attrValue+=z;break;case 13:if(z==y){C=10;break}w.attrValue+=z;break;case 14:if(!z.match(x))if(","==z)C=1;else throw Error("Invalid or unsupported selector syntax.");}}switch(C){case 1:case 2:case 3:case 5:case 14:k();break;default:throw Error("Invalid or unsupported selector syntax.");}if(!n.length)throw Error("Invalid or unsupported selector syntax.");
return n};f.nextUid=1;f.matchesSelector=function(){var d=document.createElement("div");return"function"===typeof d.webkitMatchesSelector?"webkitMatchesSelector":"function"===typeof d.mozMatchesSelector?"mozMatchesSelector":"function"===typeof d.msMatchesSelector?"msMatchesSelector":"matchesSelector"}();return f}(),hc=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/;function b(f){if("string"!=typeof f)throw Error("Invalid request opion. attribute must be a non-zero length string.");f=f.trim();if(!f)throw Error("Invalid request opion. attribute must be a non-zero length string.");
if(!f.match(hc))throw Error("Invalid request option. invalid attribute name: "+f);return f}function g(f){var d={};f.forEach(function(k){k.qualifiers.forEach(function(m){d[m.attrName]=!0})});return Object.keys(d)}var db=function(){function f(d){var k=this;this.connected=!1;this.options=f.validateOptions(d);this.observerOptions=f.createObserverOptions(this.options.queries);this.root=this.options.rootNode;this.callback=this.options.callback;this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(m){return m.elementFilter?
m.elementFilter:[]}));this.elementFilter.length||(this.elementFilter=void 0);this.calcReordered=this.options.queries.some(function(m){return m.all});this.queryValidators=[];f.createQueryValidator&&(this.queryValidators=this.options.queries.map(function(m){return f.createQueryValidator(k.root,m)}));this.observer=new qa(function(m){k.observerCallback(m)});this.reconnect()}f.createObserverOptions=function(d){function k(r){if(!m.attributes||n)m.attributes=!0,m.attributeOldValue=!0,r?(n=n||{},r.forEach(function(w){n[w]=
!0;n[w.toLowerCase()]=!0})):n=void 0}var m={childList:!0,subtree:!0},n;d.forEach(function(r){r.characterData?(m.characterData=!0,m.characterDataOldValue=!0):r.all?(k(),m.characterData=!0,m.characterDataOldValue=!0):r.attribute?k([r.attribute.trim()]):(r=g(r.elementFilter).concat(r.attributeList||[]),r.length&&k(r))});n&&(m.attributeFilter=Object.keys(n));return m};f.validateOptions=function(d){for(var k in d)if(!(k in f.optionKeys))throw Error("Invalid option: "+k);if("function"!==typeof d.callback)throw Error("Invalid options: callback is required and must be a function");
if(!d.queries||!d.queries.length)throw Error("Invalid options: queries must contain at least one query request object.");k={callback:d.callback,rootNode:d.rootNode||document,observeOwnChanges:!!d.observeOwnChanges,oldPreviousSibling:!!d.oldPreviousSibling,queries:[]};for(var m=0;m<d.queries.length;m++){var n=d.queries[m];if(n.all){if(1<Object.keys(n).length)throw Error("Invalid request option. all has no options.");k.queries.push({all:!0})}else if("attribute"in n){var r={attribute:b(n.attribute)};
r.elementFilter=Ea.parseSelectors("*["+r.attribute+"]");if(1<Object.keys(n).length)throw Error("Invalid request option. attribute has no options.");k.queries.push(r)}else if("element"in n){var w=Object.keys(n).length;r={element:n.element,elementFilter:Ea.parseSelectors(n.element)};if(n.hasOwnProperty("elementAttributes")){var x=r,y=n.elementAttributes;if(!y.trim().length)throw Error("Invalid request option: elementAttributes must contain at least one attribute.");n={};var C={};y=y.split(/\s+/);for(var D=
0;D<y.length;D++){var z=y[D];if(z){z=b(z);var P=z.toLowerCase();if(n[P])throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.");C[z]=!0;n[P]=!0}}n=Object.keys(C);x.attributeList=n;w--}if(1<w)throw Error("Invalid request option. element only allows elementAttributes option.");k.queries.push(r)}else if(n.characterData){if(1<Object.keys(n).length)throw Error("Invalid request option. characterData has no options.");k.queries.push({characterData:!0})}else throw Error("Invalid request option. Unknown query request.");
}return k};f.prototype.createSummaries=function(d){if(!d||!d.length)return[];d=new Lb(this.root,d,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling);for(var k=[],m=0;m<this.options.queries.length;m++)k.push(new Pa(d,this.options.queries[m]));return k};f.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(d){d&&d.recordPreviousState()})};f.prototype.runQueryValidators=function(d){this.queryValidators.forEach(function(k,m){k&&k.validate(d[m])})};
f.prototype.changesToReport=function(d){return d.some(function(k){return"added removed reordered reparented valueChanged characterDataChanged".split(" ").some(function(m){return k[m]&&k[m].length})||k.attributeChanged&&Object.keys(k.attributeChanged).some(function(m){return!!k.attributeChanged[m].length})?!0:!1})};f.prototype.observerCallback=function(d){this.options.observeOwnChanges||this.observer.disconnect();window.location.href.includes("kmpconsole=1")&&_heatDEBUG&&console.log(d);d=this.createSummaries(d);
this.runQueryValidators(d);this.options.observeOwnChanges&&this.checkpointQueryValidators();this.changesToReport(d)&&this.callback(d);!this.options.observeOwnChanges&&this.connected&&(this.checkpointQueryValidators(),this.observer.observe(this.root,this.observerOptions))};f.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions);this.connected=!0;this.checkpointQueryValidators()};f.prototype.takeSummaries=function(){if(!this.connected)throw Error("Not connected");
var d=this.createSummaries(this.observer.takeRecords());return this.changesToReport(d)?d:void 0};f.prototype.disconnect=function(){var d=this.takeSummaries();this.observer.disconnect();this.connected=!1;return d};f.NodeMap=ha;f.parseElementFilter=Ea.parseSelectors;f.optionKeys={callback:!0,queries:!0,rootNode:!0,oldPreviousSibling:!0,observeOwnChanges:!0};return f}(),Qa=function(){function f(d,k,m){var n=this;this.target=d;this.mirror=k;this.nextId=1;this.knownNodes=new db.NodeMap;k=this.serializeNode(d).id;
var r=[];captureHeader()||(HeatmapOnly=!0);for(var w=d.firstChild;w;w=w.nextSibling)r.push(this.serializeNode(w,!0));(x=>{for(const y of x)if(y.childNodes)for(const C of y.childNodes)if("BODY"===C.tagName)return!0;_heatDEBUG&&console.log("BODY tag not found!");throw Exception("BODY tag not found!");})(r);this.mirror.initialize(k,r);k=[{all:!0}];m&&(k=k.concat(m));this.mutationSummary=new db({rootNode:d,callback:function(x){n.applyChanged(x)},queries:k})}f.prototype.disconnect=function(){this.mutationSummary&&
(this.mutationSummary.disconnect(),this.mutationSummary=void 0)};f.prototype.rememberNode=function(d){var k=this.nextId++;this.knownNodes.set(d,k);return k};f.prototype.forgetNode=function(d){this.knownNodes["delete"](d)};f.prototype.serializeNode=function(d,k,m,n){if(null===d)return null;var r=this.knownNodes.get(d);if(void 0!==r)return{id:r};r={nodeType:d.nodeType,id:this.rememberNode(d)};n=J.shouldMaskElementRecursive(d,m,n);m=n.isIgnoredField;n=n.isIgnoredContent;switch(r.nodeType){case 10:r.name=
d.name;r.publicId=d.publicId;r.systemId=d.systemId;break;case 8:r.textContent=" ";break;case 3:void 0===d.forceUnmask&&(d.forceUnmask=!1);d.forceUnmask||(d.textContent&&!n&&J.shouldMaskContent(d,!0)?r.textContent=J.maskFormField(d.textContent):r.textContent=J.getMaskedTextContent(d,m,n));break;case 1:if(r.tagName=d.tagName,r.attributes={},"SCRIPT"!==r.tagName&&"NOSCRIPT"!==r.tagName){if("STYLE"===r.tagName&&("string"===typeof d.innerText&&""===d.innerText.trim()||"string"===typeof d.innerHTML&&""===
d.innerHTML.trim())&&U.styleSheets&&U.styleSheets.length){for(var w,x=0;x<U.styleSheets.length;x++)if(U.styleSheets[x]){var y=U.styleSheets[x];if(y&&y.ownerNode&&!y.href&&y.ownerNode===d&&y.cssRules&&y.cssRules.length){w="";for(x=0;x<y.cssRules.length;x++)y.cssRules[x].cssText&&(w+=y.cssRules[x].cssText+" ");w=U.createTextNode(w);r.childNodes=[this.serializeNode(w,!1,m,n)];break}}if(w)break}r.attributes=this.getAttributesFromNode(d,m,n);if(k&&d.childNodes.length)for(r.childNodes=[],d=d.firstChild;d;d=
d.nextSibling)r.childNodes.push(this.serializeNode(d,!0,m,n))}}return r};f.prototype.getAttributesFromNode=function(d,k,m){m=m||!1;k=k||!1;for(var n={},r,w=0;w<d.attributes.length;w++){var x=d.attributes[w];r=x&&"value"in x?x.value:"";var y=!1;"value"!==x.name||"INPUT"!==d.tagName||!d.value||d.type&&"text"!==String(d.type).toLowerCase()&&"number"!==String(d.type).toLowerCase()||(r=d.value);"src"===x.name&&("IMG"===d.tagName||"INPUT"===d.tagName&&"image"===d.type)&&J.shouldMaskContent(d,!1)&&(J.hasAttribute(d,
"height")||(n.height=J.getHeight(d)),J.hasAttribute(d,"width")||(n.width=J.getWidth(d)),r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg==",n.src=r);"value"===x.name&&"INPUT"===d.tagName&&d.value&&"password"===String(d.type).toLowerCase()&&(y=!0);"INPUT"===d.tagName&&d.type&&"hidden"===d.type&&"value"===x.name?n[x.name]="":"INPUT"!==d.tagName||"value"!==x.name||V&&!k&&!J.shouldMaskField(d,!1)?"title"!==x.name&&"alt"!==x.name&&
"label"!==x.name&&"placeholder"!==x.name||!m&&!J.shouldMaskContent(d,!1)?n[x.name]=r:n[x.name]=J.maskFormField(r):n[x.name]=J.maskFormField(r,y);"IFRAME"===d.tagName&&"srcdoc"===x.name&&(n[x.name]="")}"IFRAME"===d.tagName&&(1>=d.scrollWidth||1>=d.scrollHeight)?n.src="about:blank":"META"===d.tagName&&(d.attributes.property&&0<=String(d.attributes.property.value).indexOf("og:")?n={}:d.attributes.name&&(d=String(d.attributes.name.value).toLowerCase(),0<=d.indexOf("twitter:")||0<=d.indexOf("description")||
0<=d.indexOf("keywords"))&&(n={}));return n};f.prototype.serializeAddedAndMoved=function(d,k,m){var n=this;d=d.concat(k).concat(m);var r=new db.NodeMap;d.forEach(function(x){var y=x.parentNode,C=r.get(y);C||(C=new db.NodeMap,r.set(y,C));C.set(x,!0)});var w=[];r.keys().forEach(function(x){x=r.get(x);for(var y=x.keys();y.length;){for(y=y[0];y.previousSibling&&x.has(y.previousSibling);)y=y.previousSibling;for(;y&&x.has(y);){y.forceUnmask=!1;y&&void 0!=y.classList&&(y.forceUnmask=y.classList.contains(UNMASK));
var C=n.serializeNode(y);C.previousSibling=n.serializeNode(y.previousSibling);C.parentNode=n.serializeNode(y.parentNode);w.push(C);x["delete"](y);y=y.nextSibling}y=x.keys()}});return w};f.prototype.serializeAttributeChanges=function(d){var k=this,m=new db.NodeMap;Object.keys(d).forEach(function(n){d[n].forEach(function(r){var w=m.get(r);w||(w=k.serializeNode(r),w.attributes={},m.set(r,w));var x=J.shouldMaskElementRecursive(r);r=k.getAttributesFromNode(r,x.isIgnoredField,x.isIgnoredContent);w.attributes[n]=
n in r?r[n]:null})});return m.keys().map(function(n){return m.get(n)})};f.prototype.applyChanged=function(d){var k=this;d=d[0];var m=d.removed.map(function(x){return k.serializeNode(x)}),n=this.serializeAddedAndMoved(d.added,d.reparented,d.reordered),r=this.serializeAttributeChanges(d.attributeChanged),w=d.characterDataChanged.map(function(x){var y=k.serializeNode(x),C=J.shouldMaskElementRecursive(x,!1,!1);y.textContent=J.getMaskedTextContent(x,C.isIgnoredField,C.isIgnoredContent);return y});this.mirror.applyChanged(m,
n,r,w);d.removed.forEach(function(x){k.forgetNode(x)})};return f}()}var U=document,R=window,eb=0,Ua=!1,ka=!p(),qb=!0,Za=null,rb=!1,Xa="",zb="",Aa=9E5,va=500,Da=!1,N=function(){return!0},V=!0,jb=!1,F=!1,Ia=!0,O=null,Ja=!1,ea={};"object"===typeof JSON&&(ea=JSON);var Ra=!1,Sa=[],pb="undefined"!==typeof WebKitMutationObserver||"undefined"!==typeof MutationObserver?!0:!1,fa={getScrollLeft:function(){return R.document.body.scrollLeft||R.document.documentElement.scrollLeft},getScrollTop:function(){return R.document.body.scrollTop||
R.document.documentElement.scrollTop},getDocumentHeight:function(){if(null!==U.body)return E.safeMathMax([U.body.offsetHeight,U.body.scrollHeight,U.documentElement.offsetHeight,U.documentElement.clientHeight,U.documentElement.scrollHeight,1]);setTimeout(function(){fa.getDocumentHeight()},500)},getDocumentWidth:function(){if(null!==U.body)return E.safeMathMax([U.body.offsetWidth,U.body.scrollWidth,U.documentElement.offsetWidth,U.documentElement.clientWidth,U.documentElement.scrollWidth,1]);setTimeout(function(){fa.getDocumentWidth()},
500)},getWindowSize:function(){return{width:R.innerWidth||U.documentElement.clientWidth||U.body.clientWidth,height:R.innerHeight||U.documentElement.clientHeight||U.body.clientHeight}},getScrollPercent:function(){var b=U.documentElement,g=U.body;return(b.scrollTop||g.scrollTop)/((b.scrollHeight||g.scrollHeight)-b.clientHeight)*100}},bb={namespace:"hsr",set:function(b,g,f){g=parseInt(g,10);f=parseInt(f,10);for(var d="",k=bb.getHsrConfigs(b),m=!1,n=0;n<k.length;n++)k[n]&&k[n].id===g&&(m=!0,k[n].value=
f),d+=k[n].id+"."+k[n].value+"_";m||(d+=g+"."+f);b.setSessionCookie(this.namespace,d)},get:function(b,g){g=parseInt(g,10);b=bb.getHsrConfigs(b);for(var f=0;f<b.length;f++)if(b[f]&&b[f].id===g)return b[f].value;return null},getHsrConfigs:function(b){var g=b.getCookie(this.namespace);if(!g)return[];b=[];g=String(g).split("_");for(var f,d=0;d<g.length;d++)(f=g[d].split("."))&&2===f.length&&b.push({id:parseInt(f[0],10),value:parseInt(f[1],10)});return b}},J={getAttribute:function(b,g){return b&&b.getAttribute&&
g?b.getAttribute(g):null},hasAttribute:function(b,g){return b&&b.hasAttribute?b.hasAttribute(g):b&&b.attributes?"undefined"!==typeof b.attributes[g]:!1},getTagName:function(b){return b&&b.tagName?(""+b.tagName).toLowerCase():null},getCssClasses:function(b){return b&&b.className?"string"===typeof b.className?E.trim(b.className).split(/\s+/):[]:[]},getHeight:function(b){return!b||9!==b.nodeType&&"HTML"!==b.tagName?b===window?U.documentElement.clientHeight:E.safeMathMax([b.scrollHeight,b.offsetHeight,
0]):fa.getDocumentHeight()},getWidth:function(b){return!b||9!==b.nodeType&&"HTML"!==b.tagName?b===window?U.documentElement.clientWidth:E.safeMathMax([b.scrollWidth,b.offsetWidth,0]):fa.getDocumentWidth()},getOffset:function(b){if(!b.getBoundingClientRect)return{top:0,left:0,width:0,height:0};var g=(b&&b.ownerDocument).documentElement,f=b.getBoundingClientRect();return{top:Math.floor(f.top)+(R.pageYOffset||U.scrollTop||0)-(g.clientTop||0),left:Math.floor(f.left)+(R.pageXOffset||U.scrollLeft||0)-(g.clientLeft||
0),width:E.safeMathMax([f.width,J.getWidth(b)]),height:E.safeMathMax([f.height,J.getHeight(b)])}},getSelector:function(b,g){b=T.cssPath(b,!1);var f=null;try{f=document.querySelector(b)}catch(d){b=b.replace(/#[^\s>]+/,""),f=document.querySelector(b)}heatHasBeforeOrAfterPseudoElement(f)&&!heatDoesElementHaveChildren(f)&&(g=window.getComputedStyle(f,"::after"),(f=f.offsetParent)&&"BODY"!==f.tagName&&g&&"absolute"===g.position&&"0px"===g.left&&"0px"===g.right&&"0px"===g.bottom&&(b=T.cssPath(f,!1)));return b},
getMaskedTextContent:function(b,g,f){return"undefined"!==typeof b.parentNode&&b.parentNode&&"TEXTAREA"===b.parentNode.tagName&&(!V||g||J.shouldMaskField(b,!1))||f||J.shouldMaskContent(b,!1)?J.maskFormField(E.trim(b.textContent)):b.textContent},maskFormField:function(b,g){if(!b)return b;if(b.startsWith(UNMASK_PREPEND))return b=b.substr(UNMASK_PREPEND.length,b.length);b=String(b).replace(/./g,"*");g&&(b+=Array(Math.floor(10*Math.random())+1+1).join("*"));return b},shouldMaskElementRecursive:function(b,
g,f){f||=!1;g||=!1;!g&&J.shouldMaskField(b,!1)?g=!0:g&&!J.shouldMaskField(b,!1)&&(g=!1);!f&&J.shouldMaskContent(b,!1)?f=!0:f&&"#text"!==b.nodeName&&!J.shouldMaskContent(b,!1)&&(f=!1);for(var d=b&&b.parentNode?b.parentNode:null,k=!0;d&&("TEXTAREA"===d.nodeType&&J.hasAttribute(d,"data-heatmap-unmask")&&(g=!1),g||"INPUT"!==d.nodeType&&"SELECT"!==d.nodeType&&"TEXTAREA"!==d.nodeType||!J.shouldMaskField(d,!1)||J.hasAttribute(d,"data-heatmap-unmask")||(g=!0),f||!k||"INPUT"===b.nodeType||"SELECT"===b.nodeType||
"TEXTAREA"===b.nodeType||J.hasAttribute(b,"data-heatmap-unmask")||"#text"===b.nodeName||(J.shouldMaskContent(d,!1)?f=!0:J.hasAttribute(d,"data-heatmap-unmask")&&(k=!1)),!g||!f);)d=d.parentNode?d.parentNode:null;g&&J.isAllowedInputType(b)&&(g=!1);return{isIgnoredField:g,isIgnoredContent:f}},shouldMaskField:function(b,g){if(!b)return!1;var f=J.getAttribute(b,"type");f=f?String(f).toLowerCase():"text";if(J.isAllowedInputType(b))return!1;var d="radio"===f||"checkbox"===f||b.nodeName&&"SELECT"===b.nodeName;
if(!V)return d?!1:!0;var k=J.getAttribute(b,"name"),m=J.getAttribute(b,"id"),n=J.getAttribute(b,"autocomplete");k=E.trim(String(k)).toLowerCase().replace(/[\s_-]+/g,"");m=E.trim(String(m)).toLowerCase().replace(/[\s_-]+/g,"");n=E.trim(String(n)).toLowerCase().replace(/[\s_-]+/g,"");var r="creditcardnumber;off;kreditkarte;debitcard;kreditkort;kredietkaart; kartakredytowa;cvv;cc;ccc;cccsc;cccvc;ccexpiry;ccexpyear;ccexpmonth;cccvv;cctype;cvc;exp;ccname;cardnumber;ccnumber;username;creditcard;name;fullname;familyname;firstname;vorname;nachname;lastname;nickname;surname;login;formlogin;konto;user;website;domain;gender;company;firma;geschlecht;email;emailaddress;emailadresse;mail;epos;ebost;epost;eposta;authpw;token_auth;tokenauth;token;pin;ibanaccountnum;ibanaccountnumber;account;accountnum;auth;age;alter;tel;city;cell;cellphone;bic;iban;swift;kontonummer;konto;kontonr;phone;mobile;mobiili;mobilne;handynummer;t\u00c3\u0192\u00c6\u2019\u00c3\u201a\u00c2\u00a9l\u00c3\u0192\u00c6\u2019\u00c3\u201a\u00c2\u00a9phone;telefono;ssn;socialsecuritynumber;socialsec;socsec;address;addressline1;addressline2;billingaddress;billingaddress1;billingaddress2;shippingaddress;shippingaddress1;shippingaddress2;vat;vatnumber;gst;gstnumber;tax;taxnumber;steuernummer;adresse;indirizzo;adres;direcci\u00c3\u0192\u00c6\u2019\u00c3\u201a\u00c2\u00b3n;osoite;address1;address2;address3;street;strasse;rue;via;ulica;calle;sokak;zip;zipcode;plz;postleitzahl;postalcode;postcode;dateofbirth;dob;telephone;telefon;telefonnr;telefonnummer;password;passwort;kennwort;wachtwoord;contrase\u00c3\u0192\u00c6\u2019\u00c3\u201a\u00c2\u00b1a;passord;has\u00c3\u0192\u00e2\u20ac\u00a6\u00c3\u00a2\u00e2\u201a\u00ac\u00c5\u00a1o;heslo;wagwoord;parole;contrasenya;heslo;clientid;identifier;id;consumersecret;webhooksecret;consumerkey;keyconsumersecret;keyconsumerkey;clientsecret;secret;secretq;secretquestion;privatekey;publickey;pw;pwd;pwrd;pword;paword;pasword;paswort;pass".split(";");
if("password"===f||"email"===f||"tel"===f||"hidden"===f||-1!==r.indexOf(k)||-1!==r.indexOf(m)||-1!==r.indexOf(n)||J.hasAttribute(b,"data-piwik-mask")||J.hasAttribute(b,"data-heatmap-mask")||!d&&b&&b.value&&(!f||"text"===f||"number"===f||b&&"TEXTAREA"===b.nodeName)&&(/^\d{7,24}$/.test(String(b.value))||-1!==String(b.value).indexOf("@")&&2<String(b.value).length))return!0;if(g){g=b.parentNode?b.parentNode:null;for(f=!1;g;){if(J.hasAttribute(g,"data-piwik-mask")||J.hasAttribute(g,"data-heatmap-mask"))return!0;
!f&&g&&J.hasAttribute(g,"data-heatmap-unmask")&&(f=!0);g=g.parentNode?g.parentNode:null}if(f)return!1}return J.hasAttribute(b,"data-heatmap-unmask")||d?!1:!0},shouldMaskContent:function(b,g){if(!b)return!1;if(b.tagName&&"FORM"!==b.tagName&&J.hasAttribute(b,"data-heatmap-mask"))return!0;if(g)for(g=b.parentNode?b.parentNode:null;g&&("#text"!==b.nodeName||!J.hasAttribute(g,"data-heatmap-unmask"));){if("FORM"!==g.tagName&&J.hasAttribute(g,"data-heatmap-mask"))return!0;g=g.parentNode?g.parentNode:null}return!1},
isAllowedInputType:function(b){return b.type&&-1!==Y.indexOf(b.type)&&!J.hasAttribute(b,"data-piwik-mask")&&!J.hasAttribute(b,"data-heatmap-mask")}},E={safeMathMax:function(b){var g=[],f;for(f=0;f<b.length;f++)this.isNumber(b[f])&&g.push(b[f]);return 0===g.length?NaN:Math.max.apply(null,g)},isArray:function(b){return"object"===typeof b&&null!==b&&"number"===typeof b.length},getCurrentTime:function(){return(new Date).getTime()},getTimeSincePageReady:function(){return eb?(new Date).getTime()-eb:0},
roundTimeToSeconds:function(b){return Math.round(b/1E3)},getRandomInt:function(b,g){return Math.round(Math.random()*(g-b)+b)},isNumber:function(b){return!isNaN(b)},trim:function(b){return b&&String(b)===b?b.replace(/^\s+|\s+$/g,""):b},generateUniqueId:function(){for(var b="",g=0;10>g;g++)b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return b}},aa=fa.getWindowSize(),S={getPiwikTrackers:function(){if(null===Za&&"object"===typeof HeatmapTracker&&
HeatmapTracker.getAsyncTrackers){var b=HeatmapTracker.getAsyncTrackers();return b&&b.length?b:[]}return E.isArray(Za)?Za:[]},sendQueuedData:function(b,g){if((rb||shouldTakeQrScreenshot)&&(Xa||shouldTakeQrScreenshot)&&(b||shouldTakeQrScreenshot)&&(b.HeatmapSessionRecording||shouldTakeQrScreenshot)){var f=b.HeatmapSessionRecording;if(f.isEnabled()){window.location.href.includes("debug")&&console.log("debugger_here");var d=!1,k=[],m=[];f.Heatmap.hsrids&&f.Heatmap.hsrids.length&&(k=f.Heatmap.hsrids,f.Heatmap.data.length&&
(m=f.Heatmap.data,f.Heatmap.data=[]),d=f.Heatmap.configs[0].getdom);if(window.heatPauseBeforeSCreenshot||d){f.Session.hsrids=f.Heatmap.hsrids;var n={lazy_load_images:!0,fadein:!0,section_height:!0,div_height:!0,capture_header:!0};void 0!=window.improvements&&(n=window.improvements);if(void 0===window.fixcontent&&void 0!=window.doscreenshot&&n.fadein||void 0===window.fixcontent&&1==d&&n.fadein)window.fixcontent=!0}if(d=f.Session.hsrids&&f.Session.hsrids.length&&H.initialDOM)if(k=k.concat(f.Session.hsrids),
f.Session.data.length&&(m=m.concat(f.Session.data),f.Session.data=[],!V))for(n=m.length-1;0<=n;n--)m[n]&&m[n].ty&&9===m[n].ty&&m.splice(n,1);k.length&&f.Both.data.length&&(m=m.concat(f.Both.data),f.Both.data=[]);"undefined"===typeof g&&(g=this.shouldEndRecording(b));g&&f.hasTrackedData&&!f.hasSentStopTrackingEvent&&d&&(m.push({ty:11}),f.hasSentStopTrackingEvent=!0);if(k&&k.length&&(window.heatPauseBeforeSCreenshot||!FirstHSRSentToAPI||m)&&(window.heatPauseBeforeSCreenshot||!FirstHSRSentToAPI||m.length)){if(b.HeatmapSessionRecording.hsrIdsToGetDOM&&
b.HeatmapSessionRecording.hsrIdsToGetDOM.length&&(!window.heatPauseBeforeSCreenshot&&!0===window.Heatscreenshotready&&1==TakeMobileScreenshot||window.heatPauseBeforeSCreenshot&&void 0!=window.doscreenshot&&!0===window.Heatscreenshotready)){_heatDEBUG&&console.log("taking screenshot");if(!H.initialDOM&&pb||!window.heatPauseBeforeSCreenshot||window.heatPauseBeforeSCreenshot){d=document.body;n=document.documentElement;documentHeight=Math.max(d.scrollHeight,d.offsetHeight,n.clientHeight,n.scrollHeight,
n.offsetHeight);(new Qa(U,{initialize:function(r,w){H.initialDOM=ea.stringify({rootId:r,docHeight:documentHeight,windowHeight:window.innerHeight,children:w})}})).disconnect();"undefined"!==typeof heatmapDebugger?heatmapDebugger.updateDomSerialization("screenshot",1):null;if(window._heatmapDEBUG&&window.heatmapBreakPoints["screenshot-taken"].is_active)debugger;heatmapPushLogsObject("Get the full document.body and the html element content.","QR Screenshot - Get Body")}_heatDEBUG&&console.log(H.initialDOM);
if(H.initialDOM&&window.heatSearchParams.get("idSideHsr")&&window.heatSearchParams.get("idSite")&&0==isScreenshotReady){isScreenshotReady=1;screenshotReady(H.initialDOM);return}if(H.initialDOM&&pb){for(d=0;d<b.HeatmapSessionRecording.hsrIdsToGetDOM.length;d++)m.push({ty:8,dom:H.initialDOM,id:b.HeatmapSessionRecording.hsrIdsToGetDOM[d]});b.HeatmapSessionRecording.hsrIdsToGetDOM=[];heatmapPushLogsObject("Append the dom content the to global variable to be used.","Initial DOM")}}f.hasTrackedData=!0;
window.location.href.includes("logevents=1")&&_heatDEBUG&&console.log(m);this.sendQueuedDataRequestNow(b,k,m);g&&HeatmapTracker.HeatmapSessionRecording.disable()}}}},shouldEndRecording:function(b){var g=E.getTimeSincePageReady();if(18E5<g)return!0;if(Aa<g){b=b.HeatmapSessionRecording;var f=O&&g<6E4+O;if(!b.numSentTrackingRequests||10>=b.numSentTrackingRequests||f)Aa=g+3E5;else return!0}return!1},sendQueuedDataRequestNow:async function(b,g,f){var d="";if(0!=g.length&&-1!=heatmapSiteId&&(_heatDEBUG&&
HeatmapOnly&&console.log("before tasks, heatmap only"),click_count=f.filter(function(D){return 2==D.ty}).length,initialDomSent&&(f=f.filter(function(D){return 8!==D.ty})),initialDomSent||0<f.filter(function(D){return 8==D.ty}).length&&(initialDomSent=!0),HeatmapOnly&&(f=f.filter(function(D){return 1!=D.ty&&6!=D.ty&&13!=D.ty})),0!==f.length||!FirstHSRSentToAPI)){storedEventTag=localStorage.getItem("_heatmap_event_tag")?JSON.parse(localStorage.getItem("_heatmap_event_tag")):null;var k=async(D,z)=>{var P=
Xa;const ca=String(Math.random()).slice(2,18);P=await this.getNewFilePath(P,ca,generatedIdloghsr);try{return await this.uploadMutationToS3(D,P,z),P}catch(ra){return null}},m=null,n=null,r=[];f.forEach((D,z)=>{storedEventTag&&("string"===storedEventTag.type?m=storedEventTag.tag:n=JSON.stringify(storedEventTag.tag));D={...D};null!==m&&(D.meta2=m);null!==n&&(D.meta3=n);r.push(D)});f=r;var w=null;(await Promise.all(f.flatMap((D,z)=>Object.keys(D).map(async P=>{var ca=encodeURIComponent(D[P]);const ra=
{idx:z,key:P,blob:ca};if("te"===P||"dom"===P)if({ty:P}=D,P===CLICKEVENT||(P===MUTATIONEVENT||P===CSSEVENT||P===INITIALDOMEVENT)&&this.S3storable(ca))heatmapPushLogsObject("The dom has successfully been captured and sending to s3","Dom successfully captured"),ca=await k(ca,P),ra.blob=null!==ca?S3URL+ca:null;return ra})))).forEach(({idx:D,key:z,blob:P})=>{null!=P&&(d+="&hsr_ev["+D+"]["+z+"]="+P);if(P==INITIALDOMEVENT||"dom"==z)dom_req+="&hsr_ev["+D+"]["+z+"]="+P;if(P==CLICKEVENT||w==D)w=D,InitialHeatDomRequest+=
"&hsr_ev["+D+"]["+z+"]="+P});_heatDEBUG&&console.log(d);lambda_request=d;for(f=0;f<g.length;f++)d+="&hsr_ids[]="+encodeURIComponent(g[f]);f="hsr_vid="+Xa+dom_req+d;localStorage.setItem("heatmapHsrVid",Xa);var x=fa.getWindowSize(),y=fa.getDocumentHeight();if(!H.scrollMaxPercentage){var C=fa.getScrollTop();H.scrollMaxPercentage=parseInt((x.height+C)/y*1E3,10)}C=`${(new URL(window.location.origin)).hostname}${window.location.pathname}`;heatmapSessionIds=0<myconfigs.length?myconfigs[0].id:null;heatmapHsrIds=
g.filter(function(D){return D!==heatmapSessionIds});heatmapHsrIds=0<heatmapHsrIds.length?heatmapHsrIds[heatmapHsrIds.length-1]:heatmapHsrIds[0];if(window._heatmapDEBUG&&window.heatmapBreakPoints["send-queued-data-request-now"].is_active)debugger;max_scroll_height=y>max_scroll_height?y:max_scroll_height;heatmapClientId=null==heatmapClientId?heatRetrieveStore("_heatmapConfigs","heatmapClientId"):heatmapClientId;pageLoadTimeArray._idv=generatedIdVisit;pageLoadTimeArray._idl=generatedIdloghsr;pageLoadTimeArray.hsr=
heatmapHsrIds;pageLoadTimeArray.cip=heatmapClientId;pageLoadTimeArray.idsite=heatmapSiteId;pageLoadTimeArray.sitespeed=!0;f+="&_idv="+generatedIdVisit;f+="&_idl="+generatedIdloghsr;f+="&hsr_vw="+encodeURIComponent(x.width);f+="&hsr_vh="+encodeURIComponent(x.height);f+="&hsr_ti="+E.getTimeSincePageReady();f+="&hsr_smp="+H.scrollMaxPercentage;f+="&hsr_fyp="+parseInt(aa.height/y*1E3,10);f=f+("&hsr_sh="+y)+("&efs_path="+C.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"_"));f+="&session_hsr="+heatmapSessionIds;
f+="&heatmap_hsr="+heatmapHsrIds;f+="&group_recording_id="+group_recording_id.id;f=f+"&ca=1&hsr_return="+isReturningUser;f+="&lang="+navigator.language;f+="&cip="+heatmapClientId;f+="&uagent="+navigator.userAgent;f+="&user_agent="+navigator.userAgent;f+="&audit_key="+HeatAuditKey;f+="&trigger_client="+localStorage.getItem("pk_trigger_client");g=pagePerformanceMetrics();null!==g&&(f+="&network_time="+g.networkTime,f+="&server_time="+g.serverTime,f+="&transfer_time="+g.transferTime,f+="&dom_processing_time="+
(isNaN(g.domProcessingTime)?0:g.domProcessingTime),f+="&dom_completion_time="+(isNaN(g.domCompletionTime)?0:g.domCompletionTime),f+="&on_load_time="+g.onLoadTime,f+="&page_load_time="+g.pageLoadTime);b.HeatmapSessionRecording.numSentTrackingRequests++;b.trackRequest(f,null,null,"HeatmapSessionRecording");1<InitialHeatDomRequest.length&&(b=f.replace(dom_req+d,""),b=b.replace(/\s/g,""),localStorage.setItem("_heatSessDom",b+InitialHeatDomRequest));t("track: "+f)}},recordData:function(b,g){Ra||Sa.push({type:b,
data:g});2===g.ty&&(window._heatmap_pre_clicks.push({type:0,data:g}),heatmapGenerateSessionLocal());S.getPiwikTrackers().forEach(function(f){f.HeatmapSessionRecording&&f.HeatmapSessionRecording.isEnabled()&&("object"===typeof g&&"undefined"!==typeof g.ti&&g.ti&&(!O||g.ti>O)&&g.ty&&6!==g.ty&&(O=g.ti),0===b?f.HeatmapSessionRecording.Both.data.push(g):1===b?f.HeatmapSessionRecording.Heatmap.data.push(g):2===b&&f.HeatmapSessionRecording.Session.data.push(g))});Ua&&t("recorddata",ea.stringify(g))},stopSendingData:function(){S.getPiwikTrackers().forEach(function(b){b.HeatmapSessionRecording&&
(b=b.HeatmapSessionRecording,"undefined"!==typeof b.trackingInterval&&(clearInterval(b.trackingInterval),delete b.trackingInterval))})},startSendingData:function(){S.getPiwikTrackers().forEach(function(b){if(b.HeatmapSessionRecording&&"undefined"===typeof b.HeatmapSessionRecording.trackingInterval){if(shouldTakeQrScreenshot&&1==window.doscreenshot)heatmapPushLogsObject("Send the queued data manual screenshot is triggered.","QR Screenshot - Send Data");else{var g=E.getRandomInt(3250,5250);b.HeatmapSessionRecording.trackingInterval=
setInterval(function(){S.sendQueuedData(b)},g)}S.sendQueuedData(b)}})},S3storable:function(b){return 1E4<encodeURI(b).length?!0:!1},getNewFilePath:function(b,g,f){if(!b)return null;b=(new URL(window.location.origin)).hostname;f=(new Date).getMonth();const d=(new Date).getDate();return`mutation/${(new Date).getFullYear()}/${"January February March April May June July August September October November December".split(" ")[f]}/${d}/${b}/${g}.json.gz`},uploadMutationToS3:async function(b,g,f){const d=
JSON.stringify(b),k=`https://heatmap-project-2022.s3.us-west-2.amazonaws.com/${g}`,m=JSON.stringify({action:"mutations",data:{blob:d,fileUrl:g}});return new Promise((n,r)=>{setTimeout(()=>{hmNodeWS.send(m,"upload_directly");f===INITIALDOMEVENT?setTimeout(async()=>{try{await this.sendBlobToS3InitialDom(b,k,mutationResponse),n()}catch(w){r(w)}},1E3):n()},500)})},sendBlobToS3InitialDom:async function(b,g,f){if(shouldTakeQrScreenshot)return!0;if(200!==f)return GzipWebWorker(b,g),!0},sendBlobToS3Direct:async function(b,
g,f){f=[];for(var d=0;d<b.length;d+=32768)f.push(b.slice(d,d+32768));var k=Heatuuidv4();for(d=0;d<f.length;d++){const m=d+1,n=JSON.stringify({action:"mutations",data:{chunkIdx:m,totalChunks:f.length,chunk:f[d],filePath:g,fileSize:b.length,uploadId:k}});(new Promise(r=>setTimeout(r,1E3))).then(()=>{hmWS.send(n,`mutation_${m}_${k}`)})}return f.length}};window.HeatSessionTracking=S;var H={moveEvents:["mousemove","touchmove"],clickEvents:["mousedown"],scrollEvents:["scroll","resize"],exitPageEvents:["beforeunload"],
lastScroll:null,lastElementScroll:null,lastMove:null,lastResize:null,scrollMaxPercentage:0,lastResizeInterval:null,lastScrollInterval:null,lastMoveInterval:null,isRecording:!1,isRecordingMutations:!1,startRecording:function(){ka&&!this.isRecording&&(this.isRecording=!0,this.lastScrollInterval=setInterval(function(){if(H.lastScroll){var b=H.lastScroll;H.lastScroll=null;b={ti:b.time,ty:3,x:b.scrollX,y:b.scrollY};S.recordData(2,b)}H.lastElementScroll&&(b=H.lastElementScroll,H.lastElementScroll=null,
b={ti:b.time,ty:12,s:b.selector,x:b.scrollX,y:b.scrollY},S.recordData(2,b))},200),this.lastResizeInterval=setInterval(function(){if(H.lastResize){var b=H.lastResize;H.lastResize=null;S.recordData(2,{ti:b.ti,ty:4,x:b.width,y:b.height})}},200),this.lastMoveInterval=setInterval(function(){if(H.lastMove){var b=H.lastMove;H.lastMove=null;S.recordData(0,{ti:b.time,ty:1,s:b.selector,x:b.offsetx,y:b.offsety})}},200),this.scrollEvents.forEach(function(b){R.addEventListener(b,H.onScroll,!0)}),"undefined"!==
typeof window.preClickworker&&window.removeEventListener("click",preClickworker,!0),this.clickEvents.forEach(function(b){R.addEventListener(b,H.onClick,!0)}),this.moveEvents.forEach(function(b){R.addEventListener(b,H.onMove,!0)}),this.exitPageEvents.forEach(function(b){R.addEventListener(b,H.onExit,!0);R.addEventListener(b,H.Engagement,!0)}),Exitintervald=setInterval(H.onExit,6E4),Engagementintervald=setInterval(H.Engagement,6E4))},mirror:null,initialDOM:null,startRecordingMutationsRetryCount:2,startRecordingMutations:function(){if(ka&&
pb&&!this.isRecordingMutations){this.isRecordingMutations=!0;R.addEventListener("resize",H.onResize,!0);R.addEventListener("change",H.onFormChange,!0);try{this.mirror=new Qa(document,{initialize:function(b,g){b={ty:5,ti:0,te:ea.stringify({rootId:b,children:g})};H.initialDOM||(H.initialDOM=b.te,"undefined"!==typeof heatmapDebugger?heatmapDebugger.updateDomSerialization("sessionRecording",1):null);S.recordData(2,b)},applyChanged:function(b,g,f,d){if(b.length||g.length||f.length||d.length){var k={ti:E.getTimeSincePageReady(),
ty:6,te:{}};b.length&&(k.te.rem=b);g.length&&(k.te.adOrMo=g);f.length&&(k.te.att=f);d.length&&(k.te.text=d);k.te=ea.stringify(k.te);S.recordData(2,k)}}})}catch(b){t(b),this.stopRecording(),this.stopRecordingMutations(),0<this.startRecordingMutationsRetryCount&&(this.startRecordingMutationsRetryCount--,setTimeout(()=>{this.startRecordingMutations();this.startRecording()},500))}}},startContentEngagement:function(){const b=document.querySelectorAll("section"),g=document.querySelectorAll(".container");
this.monitoredSections=Array.from(b).concat(Array.from(g));this.visibilityData={};this.sectionToId=new Map;this.monitoredSections.forEach((f,d)=>{d=`section-${d}`;this.sectionToId.set(f,d);f=J.getSelector(f);f=f.replace(/"/g,"");this.visibilityData[d]={is_visible:!1,start_time:0,duration_visible:0,ty:15,s:heatmapReplaceUUIDInSelector(f)}});this.intersectionObserver=new IntersectionObserver(this.handleIntersection.bind(this),{threshold:.5});this.monitoredSections.forEach(f=>{this.intersectionObserver.observe(f)});
this.startVisibilityTimer()},handleIntersection:function(b){b.forEach(g=>{const f=this.sectionToId.get(g.target);g.isIntersecting?this.visibilityData[f].is_visible||(this.visibilityData[f].is_visible=!0,this.visibilityData[f].start_time=Date.now()):(this.visibilityData[f].is_visible&&(this.visibilityData[f].is_visible=!1,g=(Date.now()-this.visibilityData[f].start_time)/1E3,this.visibilityData[f].duration_visible+=g,this.visibilityData[f].start_time=0),localStorage.setItem("contentEngagementData",
JSON.stringify(this.visibilityData)),"undefined"!==typeof heatmapDebugger?heatmapDebugger.sendSignal("heatmapCDTimeInViewPort",this.visibilityData):null)})},startVisibilityTimer:function(){setInterval(()=>{this.monitoredSections.forEach(b=>{b=this.sectionToId.get(b);if(this.visibilityData[b].is_visible){const g=Date.now();this.visibilityData[b].duration_visible+=(g-this.visibilityData[b].start_time)/1E3;this.visibilityData[b].start_time=g;localStorage.setItem("contentEngagementData",JSON.stringify(this.visibilityData));
"undefined"!==typeof heatmapDebugger?heatmapDebugger.sendSignal("heatmapCDTimeInViewPort",this.visibilityData):null}})},5E3)},onResize:function(){var b=fa.getWindowSize();H.lastResize={ti:E.getTimeSincePageReady(),width:b.width,height:b.height}},onFormChange:function(b){if("target"in b&&b.target){var g=b.target,f=J.getTagName(g);if(f){var d=E.getTimeSincePageReady(),k=10,m=!1;if("input"===f)f=J.getAttribute(g,"type"),"radio"===String(f).toLowerCase()||"checkbox"===String(f).toLowerCase()?m=!0:k=9;
else if("textarea"===f)k=9;else if("select"!==f)return;if(V||9!==k){f=J.getSelector(g);var n="";m?n=g.checked?"1":"0":9===k&&"undefined"!==typeof g.value?(n=String(g.value),n>va&&(n=n.substr(0,va)),J.shouldMaskField(g,!0)&&(n=J.maskFormField(n,"password"===J.getAttribute(g,"type")))):10===k&&"undefined"!==typeof g.value&&(n=String(g.value));g={ti:d,ty:k,s:f,te:n};f?S.recordData(2,g):t("No selector found for text input ",b)}}}},onScroll:function(b){F||(F=!0,H.checkTrackersIfConditionsMet());var g=
E.getTimeSincePageReady();if(b&&b.type&&"scroll"===b.type&&b.target&&b.target!==U){var f=b.target;if("undefined"!==typeof f.scrollTop){b=f.scrollTop;var d=f.scrollLeft,k=J.getWidth(f),m=J.getHeight(f);0>=k||0>=m||!k||!m||(f=J.getSelector(f),H.lastElementScroll={time:g,selector:f,scrollY:parseInt(1E3*b/m,10),scrollX:parseInt(1E3*d/k,10)})}}else b=parseInt(fa.getScrollTop(),10),d=parseInt(fa.getScrollLeft(),10),k=fa.getDocumentHeight(),m=fa.getDocumentWidth(),max_scroll_height=k>max_scroll_height?k:
max_scroll_height,H.lastScroll={time:g,scrollY:parseInt(1E3*b/k,10),scrollX:parseInt(1E3*d/m,10)},g=parseInt(1E3*(b+fa.getWindowSize().height)/k,10),g>H.scrollMaxPercentage&&(H.scrollMaxPercentage=g)},checkTrackersIfConditionsMet:function(){for(var b=S.getPiwikTrackers(),g=0;g<b.length;g++)b[g]&&b[g].HeatmapSessionRecording&&b[g].HeatmapSessionRecording.Session&&b[g].HeatmapSessionRecording.Session.checkConditionsMet()},onClick:function(b){if(window._heatmapDEBUG&&window.heatmapBreakPoints["click-event"].is_active)debugger;
t("click");jb||(jb=!0,H.checkTrackersIfConditionsMet());if("target"in b&&"pageY"in b&&"pageX"in b&&b.target){var g=E.getTimeSincePageReady();H.lastMove=null;var f=J.getOffset(b.target),d=parseInt((b.pageX-f.left)/f.width*2E3,10),k=parseInt((b.pageY-f.top)/f.height*2E3,10);f=J.getSelector(b.target);1===d%2&&d++;1===k%2&&k++;Ua&&(isNaN(d)||isNaN(k))&&t("could not detect x or y coordinate for selector "+f,b);g={ti:g,ty:2,s:f.replace(/"/g,""),x:d,y:k,ax:b.pageX,ay:b.pageY,name:b.target.tagName};if(window._heatmapDEBUG&&
window.heatmapBreakPoints["click-event"].is_active)debugger;g.s=heatmapReplaceUUIDInSelector(g.s);isRageClick(clicks,g)&&(g.meta1="rage");if(f&&null!==g.s&&1==validateHeatSelector(g.s)){if(clickedSelector=g,_heatDEBUG&&console.log("selector clicked: ",g),0<HeatAuditKey.length&&(b=JSON.parse(localStorage.getItem("_heat_audit_clicks"))||[],g._heat_audit_key=HeatAuditKey,b.push(g),localStorage.setItem("_heat_audit_clicks",JSON.stringify(b))),S.recordData(0,g),window._heatmapDEBUG&&window.heatmapBreakPoints["click-event"].is_active)debugger}else t("No selector found for click ",
b)}},onExit:function(b){b=E.getTimeSincePageReady();var g=[];A;g.push({ti:b,ty:14,sh:max_scroll_height});if(window._heatmapDEBUG&&window.heatmapBreakPoints["onexit-events"].is_active)debugger;1E3<b?(hmNodeWS.send(JSON.stringify({request:"ping"}),"recordings"),S.getPiwikTrackers().forEach(function(f){f.HeatmapSessionRecording.Both.data.push(g);var d=f.HeatmapSessionRecording.Heatmap.hsrids;d=d.concat(f.HeatmapSessionRecording.Session.hsrids);if(window._heatmapDEBUG&&window.heatmapBreakPoints["onexit-events"].is_active)debugger;
S.sendQueuedDataRequestNow(f,d,g)})):t("Not reached the minimum time on page for recording")},Engagement:function(b){if(b=localStorage.getItem("contentEngagementData")){b=JSON.parse(b)||[];var g=Object.keys(b);for(const f of g)g=b[f],0<g.duration_visible&&S.recordData(0,g)}},onCssLoaded:function(b){for(var g=document.styleSheets,f=!1,d=0;d<g.length;d++)if(g[d].href&&g[d].href===b){f=!0;try{if(g[d].cssRules){b="";for(var k=0;k<g[d].cssRules.length;k++)b=b+g[d].cssRules[k].cssText+" ";H.onCssContentFetched(g[d].href,
b)}}catch(m){Ua&&t("CSS fetching error"+m.message,g[d].href)}break}return f},onCssContentFetched:function(b,g){g?(g=H.updateAbsoluteUrlsInContent(b,g),S.recordData(0,{ti:0,ty:13,s:b,te:g})):t("CSS Content empty ",b)},updateAbsoluteUrlsInContent:function(b,g){return g.replace(/url\((?!['"]?(?:data|http|https):)['"]?([^'"\)]*)['"]?\)/gi,function(f,d,k){try{var m=new R.URL(d,b);return m.href?f.replace(d,m.href):f}catch(n){return f}})},onMove:function(b){if(qb&&"clientY"in b&&"clientX"in b&&"pageX"in
b&&"pageY"in b){var g=U.elementFromPoint(b.clientX,b.clientY);if(g){var f=E.getTimeSincePageReady(),d=J.getOffset(g),k=parseInt((b.pageX-d.left)/d.width*2E3,10);d=parseInt((b.pageY-d.top)/d.height*2E3,10);1===k%2&&k++;1===d%2&&d++;g=J.getSelector(g);Ua&&(isNaN(k)||isNaN(d))&&t("could not detect x or y coordinate for selector "+g,b);g?Da?H.lastMove={selector:g,offsetx:k,offsety:d,time:f}:(Da=!0,S.recordData(0,{ti:0,ty:1,s:g,x:k,y:d})):t("No selector found for click ",b)}}},stopRecording:function(){this.isRecording=
!1;null!==this.lastResizeInterval&&(clearInterval(this.lastResizeInterval),this.lastResizeInterval=null);null!==this.lastScrollInterval&&(clearInterval(this.lastScrollInterval),this.lastScrollInterval=null);null!==this.lastMoveInterval&&(clearInterval(this.lastMoveInterval),this.lastMoveInterval=null);this.scrollMaxPercentage=0;this.lastResize=this.lastMove=this.lastElementScroll=this.lastScroll=null;this.scrollEvents.forEach(function(b){R.removeEventListener(b,H.onScroll,!0)});this.moveEvents.forEach(function(b){R.removeEventListener(b,
H.onMove,!0)});this.clickEvents.forEach(function(b){R.removeEventListener(b,H.onClick,!0)})},stopRecordingMutations:function(){this.isRecordingMutations=!1;R.removeEventListener("resize",H.onResize,!0);R.removeEventListener("change",H.onFormChange,!0);this.initialDOM=null;this.mirror&&(this.mirror.disconnect(),this.mirror=null)}},e={fetch:function(){var b=0,g=S.getPiwikTrackers();if(g&&g.length){for(var f=0;f<g.length;f++){var d=g[f];if(d&&d.HeatmapSessionRecording&&!d.HeatmapSessionRecording.hasRequestedConfig&&
d.HeatmapSessionRecording.isEnabled()){var k=d.getPiwikUrl(),m=d.getSiteId();k&&m?(d.HeatmapSessionRecording.hasRequestedConfig=!0,HEATMAPURL&&(k=HEATMAPURL==k?k:HEATMAPURL),"/"!==k.substr(-1,1)&&(k+="/"),b++,function(n){configsResponse?HeatmapTracker.HeatmapSessionRecording.configuration.assign(configsResponse):setTimeout(()=>{HeatmapTracker.HeatmapSessionRecording.configuration.assign(configsResponse)},2E3)}(d)):(t("cannot find piwik url for tracker or site, disabling heatmap & session recording"),
d.HeatmapSessionRecording.disable(),d.HeatmapSessionRecording.hasReceivedConfig=!0)}}0===b&&this.checkAllConfigsReceived()}},assign:function(b){if(0===b.heatmaps.length){b=heatRetrieveStore("_heatmapConfigs",currentHeatmapURL);if(null==b)return;configsResponse=b;if(window._heatmapDEBUG&&window.heatmapBreakPoints["assign-fn"].is_active)debugger;b=b.heatmap;if(window._heatmapDEBUG&&window.heatmapBreakPoints["assign-fn"].is_active)debugger}window.heatmapRateLimiting&&!window.heatmapRateLimiting.events.tracking&&
(b.heatmaps=[]);heatmapConfigsHasBeenAssigned=!0;if(-1<urlpath.indexOf("pk_trigger_client=1")||null!==localStorage.getItem("pk_trigger_client"))b.heatmaps[0].pg_tr_mob=!0,b.heatmaps[0].pg_tr=!0,localStorage.setItem("pk_trigger_client","trigger"),heatmapPushLogsObject("Forcing the client side to trigger screenshot","Force Client Trigger");void 0!==b.heatmaps&&0!==b.heatmaps.length&&(heatmapPushLogsObject(`idSiteHsr value found: ${b.heatmaps[0].id}`,"idSiteHsr Found"),"Mobile"==heatmapDeviceType?void 0!==
b.heatmaps[0].pg_tr_mob&&b.heatmaps[0].pg_tr_mob&&(b.heatmaps[0].getdom=!0,heatmapPushLogsObject("Forcing a client side screenshot for mobile passed","Mobile Trigger Client")):"Tablet"==heatmapDeviceType?void 0!==b.heatmaps[0].pg_tr_tab&&b.heatmaps[0].pg_tr_tab&&(b.heatmaps[0].getdom=!0,heatmapPushLogsObject("Forcing a client side screenshot for tablet passed","Tablet Trigger Client")):"Desktop"==heatmapDeviceType&&void 0!==b.heatmaps[0].pg_tr&&b.heatmaps[0].pg_tr&&(b.heatmaps[0].getdom=!0,heatmapPushLogsObject("Forcing a client side screenshot for desktop passed",
"Desktop Trigger Client")));var g=b.heatmaps;0!=g.length?shouldTakeQrScreenshot?(g.forEach(k=>{k.getdom=!0}),b.heatmaps=g,heatmapPushLogsObject("Set heatmap.getdom equal true for manual screenshot","Force manual screenshot")):(g.forEach(k=>{k.getdom=1==k.force||1==k.getdom?!0:!1}),b.heatmaps=g):shouldTakeQrScreenshot&&(b.heatmaps=[{getdom:!0,id:1,sample_rate:100}],heatmapPushLogsObject("Set heatmap.getdom equal true even if the _htmaps.length is zero. This might cause the modal to remain and never capture",
"Trigger Client"));mysession.config=b;g=S.getPiwikTrackers();if(window._heatmapDEBUG&&window.heatmapBreakPoints["assign-fn"].is_active)debugger;for(var f=0;f<g.length;f++){var d=g[f];if(d&&d.HeatmapSessionRecording)if(d.getSiteId()==b.idsite){d.HeatmapSessionRecording.addConfig(b);break}else 0!=b.heatmaps.length&&(d=new HeatCustomError(`Idsite Mismatch Heatmap idsite:${d.getSiteId()} - Envars:${b.idsite}`),sendErrorLogToSlack(d,{error_type:"MisMatching_idsite",link:"",siteId:preHeatmapSiteId,ipAddress:heatmapClientId,
origin:window.location.origin+window.location.pathname}))}this.checkAllConfigsReceived()},checkAllConfigsReceived:function(){var b=S.getPiwikTrackers(),g=!1,f=!1;if(b&&b.length){for(var d,k=0;k<b.length;k++)if(b[k].HeatmapSessionRecording){d=b[k].HeatmapSessionRecording;if(!d.hasReceivedConfig)return;d.Heatmap.configs&&d.Heatmap.configs.length&&(g=!0);d.Session.configs&&d.Session.configs.length&&(f=!0,updateGroupRecordingId(!0))}if(!g&&!f)HeatmapTracker.HeatmapSessionRecording.disable(),Ja=!0;else if(!f)HeatmapTracker.DOM.onLoad(function(){setTimeout(function(){H.stopRecordingMutations()},
20)})}}};Xa="undefined"!==hrs_vidp?hrs_vidp:E.generateUniqueId();zb="undefined"!==generatedIdloghsr?generatedIdloghsr:generateVisitAndIdloghsr();"object"===typeof R.HeatmapTracker?Q():("object"!==typeof R.heatmapPluginAsyncInit&&(R.heatmapPluginAsyncInit=[]),R.heatmapPluginAsyncInit.push(Q))})();
(function(){if(window&&"object"===typeof window.heatmapPluginAsyncInit&&window.heatmapPluginAsyncInit.length){var p=0;for(p;p<window.heatmapPluginAsyncInit.length;p++)if("function"===typeof window.heatmapPluginAsyncInit[p])window.heatmapPluginAsyncInit[p]()}window&&window.piwikAsyncInit&&window.piwikAsyncInit();window&&window.heatmapAsyncInit&&window.heatmapAsyncInit();window.HeatmapTracking.getAsyncTrackers().length||(("object"!==typeof _heatmap_paq||"undefined"===typeof _heatmap_paq.length?0:_heatmap_paq.length)?
window.HeatmapTracking.addTracker():_heatmap_paq={push:function(t){"undefined"!==typeof console&&console&&console.error&&console.error("_heatmap_paq.push() was used but Heatmap tracker was not initialized before the sttracker.js file was loaded.",t)}});window.HeatmapTracking.trigger("HeatmapInitialized",[]);window.HeatmapTracking.initialized=!0})();(function(){"undefined"===typeof window.AnalyticsTracker&&(window.AnalyticsTracker=window.HeatmapTracking)})();
"function"!==typeof window.piwik_log&&(window.piwik_log=function(p,t,A,G){function B(Q){try{if(window["piwik_"+Q])return window["piwik_"+Q]}catch(Y){}}var L=window.HeatmapTracking.getTracker(A,t);L.setDocumentTitle(p);L.setCustomData(G);(p=B("tracker_pause"))&&L.setLinkTrackingTimer(p);(p=B("download_extensions"))&&L.setDownloadExtensions(p);(p=B("hosts_alias"))&&L.setDomains(p);(p=B("ignore_classes"))&&L.setIgnoreClasses(p);L.trackPageView();B("install_tracker")&&(piwik_track=function(Q,Y,T,ua){L.setSiteId(Y);
L.setTrackerUrl(T);L.trackLink(Q,ua)},L.enableLinkTracking())});function setDataLayerValue(p){if(dataLayer){var t=new Set(["view_cart"]),A=dataLayer.filter(B=>(B="event"===B[0]&&B[1])&&t.has(B)),G=dataLayer.filter(B=>"cart_view"===B.event);(A.length||G.length)&&localStorage.setItem(p,JSON.stringify(A.length?A:G))}}
function triggerDataPreping(){processGTMTransaction(preHeatmapSiteId);setTimeout(()=>{var p=!1;let t=[1906,1722,1951,1947];shouldTakeQrScreenshot&&(sessionStorage.setItem("heatmapScreenshotUrl",JSON.stringify(urlpath)),heatmapLoadScripts(["heatmap-screenshot-flow.js","pako.md5.js"],function(){startScreenshotFlow()}));AuditResults&&loadScriptHeatmap(`${heatUrl}audit-results.js`);if(localStorage.getItem("order")){let A=JSON.parse(localStorage.getItem("order"));"undefined"!==typeof A.state&&"undefined"!==
typeof A.state.orders&&A.state.orders.length&&(p=!0)}/cart/ig.test(window.location.href)&&t.includes(preHeatmapSiteId)&&(setDataLayerValue("modifyHealthOrderDetail"),p=!0);/efy-order-fb/ig.test(window.location.href)&&t.includes(preHeatmapSiteId)&&(p=!0);(localStorage.getItem("mage-cache-storage")||localStorage.getItem("algoliasearch-client-js"))&&/checkout/ig.test(window.location.href)&&t.includes(preHeatmapSiteId)&&((p=localStorage.getItem("mage-cache-storage"))&&localStorage.setItem("vivo_transaction",
p),p=!0);p&&"undefined"===typeof ConversionsHandler&&loadScriptHeatmap(`${heatUrl}conversions.js?siteId=${preHeatmapSiteId}`)},2E3)}triggerDataPreping();
(localStorage.getItem("calltrk-calltrk_landing")||localStorage.getItem("mw_fees__visitor_geo"))&&setTimeout(()=>{const p=document.getElementById("plus-checkout-button"),t=document.getElementById("plus-new-checkout-btn");p&&t&&/cart/ig.test(window.location.href)&&(setDataLayerValue("cheeseOrderDetail"),t.addEventListener("click",function(){setDataLayerValue("cheeseOrderDetail");"undefined"===typeof cheeseAndWineTransaction&&"undefined"===typeof ConversionsHandler&&loadScriptHeatmap(`${heatUrl}conversions.js?siteId=${preHeatmapSiteId}`)}),
p.addEventListener("click",function(){localStorage.setItem("trackedCompleteOrderSourceId",Date.now());cheeseAndWineTransaction()}))},2E3);const hlEndTime=performance.now(),hlExecutionTime=hlEndTime-hlStartTime;heatSaveStore("heatmap-light-lt",`${hlExecutionTime}ms`,"heatmapDebugger");
